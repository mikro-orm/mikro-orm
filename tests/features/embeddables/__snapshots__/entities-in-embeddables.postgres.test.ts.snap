// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`embedded entities in postgres > diffing 1`] = `
"function(entity) {
  const ret = {};
  if (typeof entity.id !== 'undefined') {
    ret.id = entity.id;
  }

  if (typeof entity.name !== 'undefined') {
    ret.name = entity.name;
  }

  if (entity.profile1 != null) {
    if (typeof entity.profile1.username !== 'undefined') ret.profile1_username = clone(entity.profile1.username);

    if (entity.profile1.identity != null) {
      if (typeof entity.profile1.identity.email !== 'undefined') ret.profile1_identity_email = clone(entity.profile1.identity.email);

      if (entity.profile1.identity.meta != null) {
        if (typeof entity.profile1.identity.meta.foo !== 'undefined') ret.profile1_identity_meta_foo = clone(entity.profile1.identity.meta.foo);
        if (typeof entity.profile1.identity.meta.bar !== 'undefined') ret.profile1_identity_meta_bar = clone(entity.profile1.identity.meta.bar);
        if (typeof entity.profile1 !== 'undefined' && typeof entity.profile1.identity !== 'undefined' && typeof entity.profile1.identity.meta !== 'undefined') {
          if (entity.profile1.identity.meta.source === null) {
            ret.profile1_identity_meta_source = null;
          } else if (typeof entity.profile1.identity.meta.source !== 'undefined') {
            ret.profile1_identity_meta_source = toArray(entity.profile1.identity.meta.source.__helper.getPrimaryKey(true));
          }
        }
      
      }

      if (Array.isArray(entity.profile1.identity.links)) {
        ret.profile1_identity_links = [];
        entity.profile1.identity.links.forEach((_, idx_0) => {

          if (entity.profile1.identity.links[idx_0] === null) ret.profile1_identity_links[idx_0] = null;
          if (entity.profile1.identity.links[idx_0] != null) {
            ret.profile1_identity_links[idx_0] = {};
            if (typeof entity.profile1.identity.links[idx_0].url !== 'undefined') ret.profile1_identity_links[idx_0].url = clone(entity.profile1.identity.links[idx_0].url);
            if (typeof entity.profile1.identity.links[idx_0].createdAt !== 'undefined') ret.profile1_identity_links[idx_0].createdAt = clone(entity.profile1.identity.links[idx_0].createdAt);

            if (entity.profile1.identity.links[idx_0].meta === null) ret.profile1_identity_links[idx_0].meta = null;
            if (entity.profile1.identity.links[idx_0].meta != null) {
              ret.profile1_identity_links[idx_0].meta = {};
              if (typeof entity.profile1.identity.links[idx_0].meta.foo !== 'undefined') ret.profile1_identity_links[idx_0].meta.foo = clone(entity.profile1.identity.links[idx_0].meta.foo);
              if (typeof entity.profile1.identity.links[idx_0].meta.bar !== 'undefined') ret.profile1_identity_links[idx_0].meta.bar = clone(entity.profile1.identity.links[idx_0].meta.bar);
              if (typeof entity.profile1 !== 'undefined' && typeof entity.profile1.identity !== 'undefined' && typeof entity.profile1.identity.links !== 'undefined' && typeof entity.profile1.identity.links[idx_0].meta !== 'undefined') {
                if (entity.profile1.identity.links[idx_0].meta.source === null) {
                  ret.profile1_identity_links[idx_0].meta.source = null;
                } else if (typeof entity.profile1.identity.links[idx_0].meta.source !== 'undefined') {
                  ret.profile1_identity_links[idx_0].meta.source = toArray(entity.profile1.identity.links[idx_0].meta.source.__helper.getPrimaryKey(true));
                }
              }
            
            }

            if (Array.isArray(entity.profile1.identity.links[idx_0].metas)) {
              ret.profile1_identity_links[idx_0].metas = [];
              entity.profile1.identity.links[idx_0].metas.forEach((_, idx_1) => {

                if (entity.profile1.identity.links[idx_0].metas[idx_1] === null) ret.profile1_identity_links[idx_0].metas[idx_1] = null;
                if (entity.profile1.identity.links[idx_0].metas[idx_1] != null) {
                  ret.profile1_identity_links[idx_0].metas[idx_1] = {};
                  if (typeof entity.profile1.identity.links[idx_0].metas[idx_1].foo !== 'undefined') ret.profile1_identity_links[idx_0].metas[idx_1].foo = clone(entity.profile1.identity.links[idx_0].metas[idx_1].foo);
                  if (typeof entity.profile1.identity.links[idx_0].metas[idx_1].bar !== 'undefined') ret.profile1_identity_links[idx_0].metas[idx_1].bar = clone(entity.profile1.identity.links[idx_0].metas[idx_1].bar);
                  if (typeof entity.profile1 !== 'undefined' && typeof entity.profile1.identity !== 'undefined' && typeof entity.profile1.identity.links !== 'undefined' && typeof entity.profile1.identity.links[idx_0].metas !== 'undefined') {
                    if (entity.profile1.identity.links[idx_0].metas[idx_1].source === null) {
                      ret.profile1_identity_links[idx_0].metas[idx_1].source = null;
                    } else if (typeof entity.profile1.identity.links[idx_0].metas[idx_1].source !== 'undefined') {
                      ret.profile1_identity_links[idx_0].metas[idx_1].source = toArray(entity.profile1.identity.links[idx_0].metas[idx_1].source.__helper.getPrimaryKey(true));
                    }
                  }
                
                }
              });
            }

            if (typeof entity.profile1 !== 'undefined' && typeof entity.profile1.identity !== 'undefined' && typeof entity.profile1.identity.links !== 'undefined') {
              if (entity.profile1.identity.links[idx_0].source === null) {
                ret.profile1_identity_links[idx_0].source = null;
              } else if (typeof entity.profile1.identity.links[idx_0].source !== 'undefined') {
                ret.profile1_identity_links[idx_0].source = toArray(entity.profile1.identity.links[idx_0].source.__helper.getPrimaryKey(true));
              }
            }
          
          }
        });
        ret.profile1_identity_links = cloneEmbeddable(ret.profile1_identity_links);
      }

      if (typeof entity.profile1 !== 'undefined' && typeof entity.profile1.identity !== 'undefined') {
        if (entity.profile1.identity.source === null) {
          ret.profile1_identity_source = null;
        } else if (typeof entity.profile1.identity.source !== 'undefined') {
          ret.profile1_identity_source = toArray(entity.profile1.identity.source.__helper.getPrimaryKey(true));
        }
      }
    
    }

    if (typeof entity.profile1 !== 'undefined') {
      if (entity.profile1.source === null) {
        ret.profile1_source = null;
      } else if (typeof entity.profile1.source !== 'undefined') {
        ret.profile1_source = toArray(entity.profile1.source.__helper.getPrimaryKey(true));
      }
    }
  
  }

  if (entity.profile2 === null) ret.profile2 = null;
  if (entity.profile2 != null) {
    ret.profile2 = {};
    if (typeof entity.profile2.username !== 'undefined') ret.profile2.username = clone(entity.profile2.username);

    if (entity.profile2.identity === null) ret.profile2.identity = null;
    if (entity.profile2.identity != null) {
      ret.profile2.identity = {};
      if (typeof entity.profile2.identity.email !== 'undefined') ret.profile2.identity.email = clone(entity.profile2.identity.email);

      if (entity.profile2.identity.meta === null) ret.profile2.identity.meta = null;
      if (entity.profile2.identity.meta != null) {
        ret.profile2.identity.meta = {};
        if (typeof entity.profile2.identity.meta.foo !== 'undefined') ret.profile2.identity.meta.foo = clone(entity.profile2.identity.meta.foo);
        if (typeof entity.profile2.identity.meta.bar !== 'undefined') ret.profile2.identity.meta.bar = clone(entity.profile2.identity.meta.bar);
        if (typeof entity.profile2 !== 'undefined' && typeof entity.profile2.identity !== 'undefined' && typeof entity.profile2.identity.meta !== 'undefined') {
          if (entity.profile2.identity.meta.source === null) {
            ret.profile2.identity.meta.source = null;
          } else if (typeof entity.profile2.identity.meta.source !== 'undefined') {
            ret.profile2.identity.meta.source = toArray(entity.profile2.identity.meta.source.__helper.getPrimaryKey(true));
          }
        }
      
      }

      if (Array.isArray(entity.profile2.identity.links)) {
        ret.profile2.identity.links = [];
        entity.profile2.identity.links.forEach((_, idx_2) => {

          if (entity.profile2.identity.links[idx_2] === null) ret.profile2.identity.links[idx_2] = null;
          if (entity.profile2.identity.links[idx_2] != null) {
            ret.profile2.identity.links[idx_2] = {};
            if (typeof entity.profile2.identity.links[idx_2].url !== 'undefined') ret.profile2.identity.links[idx_2].url = clone(entity.profile2.identity.links[idx_2].url);
            if (typeof entity.profile2.identity.links[idx_2].createdAt !== 'undefined') ret.profile2.identity.links[idx_2].createdAt = clone(entity.profile2.identity.links[idx_2].createdAt);

            if (entity.profile2.identity.links[idx_2].meta === null) ret.profile2.identity.links[idx_2].meta = null;
            if (entity.profile2.identity.links[idx_2].meta != null) {
              ret.profile2.identity.links[idx_2].meta = {};
              if (typeof entity.profile2.identity.links[idx_2].meta.foo !== 'undefined') ret.profile2.identity.links[idx_2].meta.foo = clone(entity.profile2.identity.links[idx_2].meta.foo);
              if (typeof entity.profile2.identity.links[idx_2].meta.bar !== 'undefined') ret.profile2.identity.links[idx_2].meta.bar = clone(entity.profile2.identity.links[idx_2].meta.bar);
              if (typeof entity.profile2 !== 'undefined' && typeof entity.profile2.identity !== 'undefined' && typeof entity.profile2.identity.links !== 'undefined' && typeof entity.profile2.identity.links[idx_2].meta !== 'undefined') {
                if (entity.profile2.identity.links[idx_2].meta.source === null) {
                  ret.profile2.identity.links[idx_2].meta.source = null;
                } else if (typeof entity.profile2.identity.links[idx_2].meta.source !== 'undefined') {
                  ret.profile2.identity.links[idx_2].meta.source = toArray(entity.profile2.identity.links[idx_2].meta.source.__helper.getPrimaryKey(true));
                }
              }
            
            }

            if (Array.isArray(entity.profile2.identity.links[idx_2].metas)) {
              ret.profile2.identity.links[idx_2].metas = [];
              entity.profile2.identity.links[idx_2].metas.forEach((_, idx_3) => {

                if (entity.profile2.identity.links[idx_2].metas[idx_3] === null) ret.profile2.identity.links[idx_2].metas[idx_3] = null;
                if (entity.profile2.identity.links[idx_2].metas[idx_3] != null) {
                  ret.profile2.identity.links[idx_2].metas[idx_3] = {};
                  if (typeof entity.profile2.identity.links[idx_2].metas[idx_3].foo !== 'undefined') ret.profile2.identity.links[idx_2].metas[idx_3].foo = clone(entity.profile2.identity.links[idx_2].metas[idx_3].foo);
                  if (typeof entity.profile2.identity.links[idx_2].metas[idx_3].bar !== 'undefined') ret.profile2.identity.links[idx_2].metas[idx_3].bar = clone(entity.profile2.identity.links[idx_2].metas[idx_3].bar);
                  if (typeof entity.profile2 !== 'undefined' && typeof entity.profile2.identity !== 'undefined' && typeof entity.profile2.identity.links !== 'undefined' && typeof entity.profile2.identity.links[idx_2].metas !== 'undefined') {
                    if (entity.profile2.identity.links[idx_2].metas[idx_3].source === null) {
                      ret.profile2.identity.links[idx_2].metas[idx_3].source = null;
                    } else if (typeof entity.profile2.identity.links[idx_2].metas[idx_3].source !== 'undefined') {
                      ret.profile2.identity.links[idx_2].metas[idx_3].source = toArray(entity.profile2.identity.links[idx_2].metas[idx_3].source.__helper.getPrimaryKey(true));
                    }
                  }
                
                }
              });
            }

            if (typeof entity.profile2 !== 'undefined' && typeof entity.profile2.identity !== 'undefined' && typeof entity.profile2.identity.links !== 'undefined') {
              if (entity.profile2.identity.links[idx_2].source === null) {
                ret.profile2.identity.links[idx_2].source = null;
              } else if (typeof entity.profile2.identity.links[idx_2].source !== 'undefined') {
                ret.profile2.identity.links[idx_2].source = toArray(entity.profile2.identity.links[idx_2].source.__helper.getPrimaryKey(true));
              }
            }
          
          }
        });
      }

      if (typeof entity.profile2 !== 'undefined' && typeof entity.profile2.identity !== 'undefined') {
        if (entity.profile2.identity.source === null) {
          ret.profile2.identity.source = null;
        } else if (typeof entity.profile2.identity.source !== 'undefined') {
          ret.profile2.identity.source = toArray(entity.profile2.identity.source.__helper.getPrimaryKey(true));
        }
      }
    
    }

    if (typeof entity.profile2 !== 'undefined') {
      if (entity.profile2.source === null) {
        ret.profile2.source = null;
      } else if (typeof entity.profile2.source !== 'undefined') {
        ret.profile2.source = toArray(entity.profile2.source.__helper.getPrimaryKey(true));
      }
    }
  
    ret.profile2 = cloneEmbeddable(ret.profile2);
  }

  return ret;
}"
`;

exports[`embedded entities in postgres > diffing 2`] = `
"function(entity, data, factory, newEntity, convertCustomTypes, schema) {
  if (data.id === null) {
    entity.id = null;
  } else if (typeof data.id !== 'undefined') {
    entity.id = data.id;
  }
  if (data.name === null) {
    entity.name = null;
  } else if (typeof data.name !== 'undefined') {
    entity.name = data.name;
  }
  if (data.profile1_username !== undefined || data.profile1_identity_email !== undefined || data.profile1_identity_meta_foo != null || data.profile1_identity_meta_bar != null || data.profile1_identity_meta_source != null || data.profile1_identity_links !== undefined || data.profile1_identity_source !== undefined || data.profile1_source !== undefined) {
    const embeddedData = {
      username: data.profile1_username,
      identity: data.profile1_identity,
      source: data.profile1_source,
    };
    if (entity.profile1 == null) {
      entity.profile1 = factory.createEmbeddable('Profile', embeddedData, { newEntity, convertCustomTypes });
    }
    if (data.profile1_username === null) {
      entity.profile1.username = null;
    } else if (typeof data.profile1_username !== 'undefined') {
      entity.profile1.username = data.profile1_username;
    }
    if (data.profile1_identity_email !== undefined || data.profile1_identity_meta_foo != null || data.profile1_identity_meta_bar != null || data.profile1_identity_meta_source != null || data.profile1_identity_links !== undefined || data.profile1_identity_source !== undefined) {
      const embeddedData = {
        email: data.profile1_identity_email,
        meta: data.profile1_identity_meta,
        links: data.profile1_identity_links,
        source: data.profile1_identity_source,
      };
      if (entity.profile1.identity == null) {
        entity.profile1.identity = factory.createEmbeddable('Identity', embeddedData, { newEntity, convertCustomTypes });
      }
      if (data.profile1_identity_email === null) {
        entity.profile1.identity.email = null;
      } else if (typeof data.profile1_identity_email !== 'undefined') {
        entity.profile1.identity.email = data.profile1_identity_email;
      }
      if (data.profile1_identity_meta_foo != null || data.profile1_identity_meta_bar != null || data.profile1_identity_meta_source != null) {
        const embeddedData = {
          foo: data.profile1_identity_meta_foo,
          bar: data.profile1_identity_meta_bar,
          source: data.profile1_identity_meta_source,
        };
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
        }
        if (data.profile1_identity_meta_foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1_identity_meta_foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1_identity_meta_foo;
        }
        if (data.profile1_identity_meta_bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1_identity_meta_bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1_identity_meta_bar;
        }
        if (data.profile1_identity_meta_source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1_identity_meta_source !== 'undefined') {
          if (isPrimaryKey(data.profile1_identity_meta_source, true)) {
            entity.profile1.identity.meta.source = factory.createReference('Source', data.profile1_identity_meta_source, { merge: true, convertCustomTypes, schema });
          } else if (data.profile1_identity_meta_source && typeof data.profile1_identity_meta_source === 'object') {
            entity.profile1.identity.meta.source = factory.create('Source', data.profile1_identity_meta_source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
          }
        }
      } else if (data.profile1_identity_meta_foo === null && data.profile1_identity_meta_bar === null && data.profile1_identity_meta_source === null) {
        entity.profile1.identity.meta = null;
      }
      if (data.profile1_identity_meta != null) {
        const embeddedData = data.profile1_identity_meta;
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
        }
        if (data.profile1_identity_meta.foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1_identity_meta.foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1_identity_meta.foo;
        }
        if (data.profile1_identity_meta.bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1_identity_meta.bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1_identity_meta.bar;
        }
        if (data.profile1_identity_meta.source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1_identity_meta.source !== 'undefined') {
          if (isPrimaryKey(data.profile1_identity_meta.source, true)) {
            entity.profile1.identity.meta.source = factory.createReference('Source', data.profile1_identity_meta.source, { merge: true, convertCustomTypes, schema });
          } else if (data.profile1_identity_meta.source && typeof data.profile1_identity_meta.source === 'object') {
            entity.profile1.identity.meta.source = factory.create('Source', data.profile1_identity_meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
          }
        }
      } else if (data.profile1_identity_meta === null) {
        entity.profile1.identity.meta = null;
      }
      if (Array.isArray(data.profile1_identity_links)) {
        entity.profile1.identity.links = [];
        data.profile1_identity_links.forEach((_, idx_8) => {
          if (data.profile1_identity_links[idx_8] != null) {
            const embeddedData = data.profile1_identity_links[idx_8];
            if (entity.profile1.identity.links[idx_8] == null) {
              entity.profile1.identity.links[idx_8] = factory.createEmbeddable('IdentityLink', embeddedData, { newEntity, convertCustomTypes });
            }
            if (data.profile1_identity_links[idx_8].url === null) {
              entity.profile1.identity.links[idx_8].url = null;
            } else if (typeof data.profile1_identity_links[idx_8].url !== 'undefined') {
              entity.profile1.identity.links[idx_8].url = data.profile1_identity_links[idx_8].url;
            }
            if (data.profile1_identity_links[idx_8].createdAt === null) {
              entity.profile1.identity.links[idx_8].createdAt = null;
            } else if (typeof data.profile1_identity_links[idx_8].createdAt !== 'undefined') {
              if (data.profile1_identity_links[idx_8].createdAt instanceof Date) {
                entity.profile1.identity.links[idx_8].createdAt = data.profile1_identity_links[idx_8].createdAt;
              } else if (typeof data.profile1_identity_links[idx_8].createdAt === 'number' || data.profile1_identity_links[idx_8].createdAt.includes('+') || data.profile1_identity_links[idx_8].createdAt.lastIndexOf('-') > 10 || data.profile1_identity_links[idx_8].createdAt.endsWith('Z')) {
                entity.profile1.identity.links[idx_8].createdAt = new Date(data.profile1_identity_links[idx_8].createdAt);
              } else {
                entity.profile1.identity.links[idx_8].createdAt = new Date(data.profile1_identity_links[idx_8].createdAt + 'Z');
              }
            }
            if (data.profile1_identity_links[idx_8].meta != null) {
              const embeddedData = data.profile1_identity_links[idx_8].meta;
              if (entity.profile1.identity.links[idx_8].meta == null) {
                entity.profile1.identity.links[idx_8].meta = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
              }
              if (data.profile1_identity_links[idx_8].meta.foo === null) {
                entity.profile1.identity.links[idx_8].meta.foo = null;
              } else if (typeof data.profile1_identity_links[idx_8].meta.foo !== 'undefined') {
                entity.profile1.identity.links[idx_8].meta.foo = data.profile1_identity_links[idx_8].meta.foo;
              }
              if (data.profile1_identity_links[idx_8].meta.bar === null) {
                entity.profile1.identity.links[idx_8].meta.bar = null;
              } else if (typeof data.profile1_identity_links[idx_8].meta.bar !== 'undefined') {
                entity.profile1.identity.links[idx_8].meta.bar = data.profile1_identity_links[idx_8].meta.bar;
              }
              if (data.profile1_identity_links[idx_8].meta.source === null) {
    entity.profile1.identity.links[idx_8].meta.source = null;
              } else if (typeof data.profile1_identity_links[idx_8].meta.source !== 'undefined') {
                if (isPrimaryKey(data.profile1_identity_links[idx_8].meta.source, true)) {
                  entity.profile1.identity.links[idx_8].meta.source = factory.createReference('Source', data.profile1_identity_links[idx_8].meta.source, { merge: true, convertCustomTypes, schema });
                } else if (data.profile1_identity_links[idx_8].meta.source && typeof data.profile1_identity_links[idx_8].meta.source === 'object') {
                  entity.profile1.identity.links[idx_8].meta.source = factory.create('Source', data.profile1_identity_links[idx_8].meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
                }
              }
            } else if (data.profile1_identity_links[idx_8].meta === null) {
              entity.profile1.identity.links[idx_8].meta = null;
            }
            if (Array.isArray(data.profile1_identity_links[idx_8].metas)) {
              entity.profile1.identity.links[idx_8].metas = [];
              data.profile1_identity_links[idx_8].metas.forEach((_, idx_13) => {
                if (data.profile1_identity_links[idx_8].metas[idx_13] != null) {
                  const embeddedData = data.profile1_identity_links[idx_8].metas[idx_13];
                  if (entity.profile1.identity.links[idx_8].metas[idx_13] == null) {
                    entity.profile1.identity.links[idx_8].metas[idx_13] = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
                  }
                  if (data.profile1_identity_links[idx_8].metas[idx_13].foo === null) {
                    entity.profile1.identity.links[idx_8].metas[idx_13].foo = null;
                  } else if (typeof data.profile1_identity_links[idx_8].metas[idx_13].foo !== 'undefined') {
                    entity.profile1.identity.links[idx_8].metas[idx_13].foo = data.profile1_identity_links[idx_8].metas[idx_13].foo;
                  }
                  if (data.profile1_identity_links[idx_8].metas[idx_13].bar === null) {
                    entity.profile1.identity.links[idx_8].metas[idx_13].bar = null;
                  } else if (typeof data.profile1_identity_links[idx_8].metas[idx_13].bar !== 'undefined') {
                    entity.profile1.identity.links[idx_8].metas[idx_13].bar = data.profile1_identity_links[idx_8].metas[idx_13].bar;
                  }
                  if (data.profile1_identity_links[idx_8].metas[idx_13].source === null) {
    entity.profile1.identity.links[idx_8].metas[idx_13].source = null;
                  } else if (typeof data.profile1_identity_links[idx_8].metas[idx_13].source !== 'undefined') {
                    if (isPrimaryKey(data.profile1_identity_links[idx_8].metas[idx_13].source, true)) {
                      entity.profile1.identity.links[idx_8].metas[idx_13].source = factory.createReference('Source', data.profile1_identity_links[idx_8].metas[idx_13].source, { merge: true, convertCustomTypes, schema });
                    } else if (data.profile1_identity_links[idx_8].metas[idx_13].source && typeof data.profile1_identity_links[idx_8].metas[idx_13].source === 'object') {
                      entity.profile1.identity.links[idx_8].metas[idx_13].source = factory.create('Source', data.profile1_identity_links[idx_8].metas[idx_13].source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
                    }
                  }
                } else if (data.profile1_identity_links[idx_8].metas[idx_13] === null) {
                  entity.profile1.identity.links[idx_8].metas[idx_13] = null;
                }
              });
            }
            if (data.profile1_identity_links[idx_8].source === null) {
    entity.profile1.identity.links[idx_8].source = null;
            } else if (typeof data.profile1_identity_links[idx_8].source !== 'undefined') {
              if (isPrimaryKey(data.profile1_identity_links[idx_8].source, true)) {
                entity.profile1.identity.links[idx_8].source = factory.createReference('Source', data.profile1_identity_links[idx_8].source, { merge: true, convertCustomTypes, schema });
              } else if (data.profile1_identity_links[idx_8].source && typeof data.profile1_identity_links[idx_8].source === 'object') {
                entity.profile1.identity.links[idx_8].source = factory.create('Source', data.profile1_identity_links[idx_8].source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
              }
            }
          } else if (data.profile1_identity_links[idx_8] === null) {
            entity.profile1.identity.links[idx_8] = null;
          }
        });
      }
      if (data.profile1_identity_source === null) {
    entity.profile1.identity.source = null;
      } else if (typeof data.profile1_identity_source !== 'undefined') {
        if (isPrimaryKey(data.profile1_identity_source, true)) {
          entity.profile1.identity.source = factory.createReference('Source', data.profile1_identity_source, { merge: true, convertCustomTypes, schema });
        } else if (data.profile1_identity_source && typeof data.profile1_identity_source === 'object') {
          entity.profile1.identity.source = factory.create('Source', data.profile1_identity_source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
        }
      }
    } else if (data.profile1_identity_email === null && data.profile1_identity_meta_foo === null && data.profile1_identity_meta_bar === null && data.profile1_identity_meta_source === null && data.profile1_identity_links === null && data.profile1_identity_source === null) {
      entity.profile1.identity = null;
    }
    if (data.profile1_identity != null) {
      const embeddedData = data.profile1_identity;
      if (entity.profile1.identity == null) {
        entity.profile1.identity = factory.createEmbeddable('Identity', embeddedData, { newEntity, convertCustomTypes });
      }
      if (data.profile1_identity.email === null) {
        entity.profile1.identity.email = null;
      } else if (typeof data.profile1_identity.email !== 'undefined') {
        entity.profile1.identity.email = data.profile1_identity.email;
      }
      if (data.profile1_identity_meta_foo != null || data.profile1_identity_meta_bar != null || data.profile1_identity_meta_source != null) {
        const embeddedData = {
          foo: data.profile1_identity_meta_foo,
          bar: data.profile1_identity_meta_bar,
          source: data.profile1_identity_meta_source,
        };
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
        }
        if (data.profile1_identity_meta_foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1_identity_meta_foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1_identity_meta_foo;
        }
        if (data.profile1_identity_meta_bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1_identity_meta_bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1_identity_meta_bar;
        }
        if (data.profile1_identity_meta_source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1_identity_meta_source !== 'undefined') {
          if (isPrimaryKey(data.profile1_identity_meta_source, true)) {
            entity.profile1.identity.meta.source = factory.createReference('Source', data.profile1_identity_meta_source, { merge: true, convertCustomTypes, schema });
          } else if (data.profile1_identity_meta_source && typeof data.profile1_identity_meta_source === 'object') {
            entity.profile1.identity.meta.source = factory.create('Source', data.profile1_identity_meta_source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
          }
        }
      } else if (data.profile1_identity_meta_foo === null && data.profile1_identity_meta_bar === null && data.profile1_identity_meta_source === null) {
        entity.profile1.identity.meta = null;
      }
      if (data.profile1_identity.meta != null) {
        const embeddedData = data.profile1_identity.meta;
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
        }
        if (data.profile1_identity.meta.foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1_identity.meta.foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1_identity.meta.foo;
        }
        if (data.profile1_identity.meta.bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1_identity.meta.bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1_identity.meta.bar;
        }
        if (data.profile1_identity.meta.source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1_identity.meta.source !== 'undefined') {
          if (isPrimaryKey(data.profile1_identity.meta.source, true)) {
            entity.profile1.identity.meta.source = factory.createReference('Source', data.profile1_identity.meta.source, { merge: true, convertCustomTypes, schema });
          } else if (data.profile1_identity.meta.source && typeof data.profile1_identity.meta.source === 'object') {
            entity.profile1.identity.meta.source = factory.create('Source', data.profile1_identity.meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
          }
        }
      } else if (data.profile1_identity.meta === null) {
        entity.profile1.identity.meta = null;
      }
      if (Array.isArray(data.profile1_identity.links)) {
        entity.profile1.identity.links = [];
        data.profile1_identity.links.forEach((_, idx_21) => {
          if (data.profile1_identity.links[idx_21] != null) {
            const embeddedData = data.profile1_identity.links[idx_21];
            if (entity.profile1.identity.links[idx_21] == null) {
              entity.profile1.identity.links[idx_21] = factory.createEmbeddable('IdentityLink', embeddedData, { newEntity, convertCustomTypes });
            }
            if (data.profile1_identity.links[idx_21].url === null) {
              entity.profile1.identity.links[idx_21].url = null;
            } else if (typeof data.profile1_identity.links[idx_21].url !== 'undefined') {
              entity.profile1.identity.links[idx_21].url = data.profile1_identity.links[idx_21].url;
            }
            if (data.profile1_identity.links[idx_21].createdAt === null) {
              entity.profile1.identity.links[idx_21].createdAt = null;
            } else if (typeof data.profile1_identity.links[idx_21].createdAt !== 'undefined') {
              if (data.profile1_identity.links[idx_21].createdAt instanceof Date) {
                entity.profile1.identity.links[idx_21].createdAt = data.profile1_identity.links[idx_21].createdAt;
              } else if (typeof data.profile1_identity.links[idx_21].createdAt === 'number' || data.profile1_identity.links[idx_21].createdAt.includes('+') || data.profile1_identity.links[idx_21].createdAt.lastIndexOf('-') > 10 || data.profile1_identity.links[idx_21].createdAt.endsWith('Z')) {
                entity.profile1.identity.links[idx_21].createdAt = new Date(data.profile1_identity.links[idx_21].createdAt);
              } else {
                entity.profile1.identity.links[idx_21].createdAt = new Date(data.profile1_identity.links[idx_21].createdAt + 'Z');
              }
            }
            if (data.profile1_identity.links[idx_21].meta != null) {
              const embeddedData = data.profile1_identity.links[idx_21].meta;
              if (entity.profile1.identity.links[idx_21].meta == null) {
                entity.profile1.identity.links[idx_21].meta = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
              }
              if (data.profile1_identity.links[idx_21].meta.foo === null) {
                entity.profile1.identity.links[idx_21].meta.foo = null;
              } else if (typeof data.profile1_identity.links[idx_21].meta.foo !== 'undefined') {
                entity.profile1.identity.links[idx_21].meta.foo = data.profile1_identity.links[idx_21].meta.foo;
              }
              if (data.profile1_identity.links[idx_21].meta.bar === null) {
                entity.profile1.identity.links[idx_21].meta.bar = null;
              } else if (typeof data.profile1_identity.links[idx_21].meta.bar !== 'undefined') {
                entity.profile1.identity.links[idx_21].meta.bar = data.profile1_identity.links[idx_21].meta.bar;
              }
              if (data.profile1_identity.links[idx_21].meta.source === null) {
    entity.profile1.identity.links[idx_21].meta.source = null;
              } else if (typeof data.profile1_identity.links[idx_21].meta.source !== 'undefined') {
                if (isPrimaryKey(data.profile1_identity.links[idx_21].meta.source, true)) {
                  entity.profile1.identity.links[idx_21].meta.source = factory.createReference('Source', data.profile1_identity.links[idx_21].meta.source, { merge: true, convertCustomTypes, schema });
                } else if (data.profile1_identity.links[idx_21].meta.source && typeof data.profile1_identity.links[idx_21].meta.source === 'object') {
                  entity.profile1.identity.links[idx_21].meta.source = factory.create('Source', data.profile1_identity.links[idx_21].meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
                }
              }
            } else if (data.profile1_identity.links[idx_21].meta === null) {
              entity.profile1.identity.links[idx_21].meta = null;
            }
            if (Array.isArray(data.profile1_identity.links[idx_21].metas)) {
              entity.profile1.identity.links[idx_21].metas = [];
              data.profile1_identity.links[idx_21].metas.forEach((_, idx_26) => {
                if (data.profile1_identity.links[idx_21].metas[idx_26] != null) {
                  const embeddedData = data.profile1_identity.links[idx_21].metas[idx_26];
                  if (entity.profile1.identity.links[idx_21].metas[idx_26] == null) {
                    entity.profile1.identity.links[idx_21].metas[idx_26] = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
                  }
                  if (data.profile1_identity.links[idx_21].metas[idx_26].foo === null) {
                    entity.profile1.identity.links[idx_21].metas[idx_26].foo = null;
                  } else if (typeof data.profile1_identity.links[idx_21].metas[idx_26].foo !== 'undefined') {
                    entity.profile1.identity.links[idx_21].metas[idx_26].foo = data.profile1_identity.links[idx_21].metas[idx_26].foo;
                  }
                  if (data.profile1_identity.links[idx_21].metas[idx_26].bar === null) {
                    entity.profile1.identity.links[idx_21].metas[idx_26].bar = null;
                  } else if (typeof data.profile1_identity.links[idx_21].metas[idx_26].bar !== 'undefined') {
                    entity.profile1.identity.links[idx_21].metas[idx_26].bar = data.profile1_identity.links[idx_21].metas[idx_26].bar;
                  }
                  if (data.profile1_identity.links[idx_21].metas[idx_26].source === null) {
    entity.profile1.identity.links[idx_21].metas[idx_26].source = null;
                  } else if (typeof data.profile1_identity.links[idx_21].metas[idx_26].source !== 'undefined') {
                    if (isPrimaryKey(data.profile1_identity.links[idx_21].metas[idx_26].source, true)) {
                      entity.profile1.identity.links[idx_21].metas[idx_26].source = factory.createReference('Source', data.profile1_identity.links[idx_21].metas[idx_26].source, { merge: true, convertCustomTypes, schema });
                    } else if (data.profile1_identity.links[idx_21].metas[idx_26].source && typeof data.profile1_identity.links[idx_21].metas[idx_26].source === 'object') {
                      entity.profile1.identity.links[idx_21].metas[idx_26].source = factory.create('Source', data.profile1_identity.links[idx_21].metas[idx_26].source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
                    }
                  }
                } else if (data.profile1_identity.links[idx_21].metas[idx_26] === null) {
                  entity.profile1.identity.links[idx_21].metas[idx_26] = null;
                }
              });
            }
            if (data.profile1_identity.links[idx_21].source === null) {
    entity.profile1.identity.links[idx_21].source = null;
            } else if (typeof data.profile1_identity.links[idx_21].source !== 'undefined') {
              if (isPrimaryKey(data.profile1_identity.links[idx_21].source, true)) {
                entity.profile1.identity.links[idx_21].source = factory.createReference('Source', data.profile1_identity.links[idx_21].source, { merge: true, convertCustomTypes, schema });
              } else if (data.profile1_identity.links[idx_21].source && typeof data.profile1_identity.links[idx_21].source === 'object') {
                entity.profile1.identity.links[idx_21].source = factory.create('Source', data.profile1_identity.links[idx_21].source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
              }
            }
          } else if (data.profile1_identity.links[idx_21] === null) {
            entity.profile1.identity.links[idx_21] = null;
          }
        });
      }
      if (data.profile1_identity.source === null) {
    entity.profile1.identity.source = null;
      } else if (typeof data.profile1_identity.source !== 'undefined') {
        if (isPrimaryKey(data.profile1_identity.source, true)) {
          entity.profile1.identity.source = factory.createReference('Source', data.profile1_identity.source, { merge: true, convertCustomTypes, schema });
        } else if (data.profile1_identity.source && typeof data.profile1_identity.source === 'object') {
          entity.profile1.identity.source = factory.create('Source', data.profile1_identity.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
        }
      }
    } else if (data.profile1_identity === null) {
      entity.profile1.identity = null;
    }
    if (data.profile1_source === null) {
    entity.profile1.source = null;
    } else if (typeof data.profile1_source !== 'undefined') {
      if (isPrimaryKey(data.profile1_source, true)) {
        entity.profile1.source = factory.createReference('Source', data.profile1_source, { merge: true, convertCustomTypes, schema });
      } else if (data.profile1_source && typeof data.profile1_source === 'object') {
        entity.profile1.source = factory.create('Source', data.profile1_source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
      }
    }
  } else if (data.profile1_username === null && data.profile1_identity_email === null && data.profile1_identity_meta_foo === null && data.profile1_identity_meta_bar === null && data.profile1_identity_meta_source === null && data.profile1_identity_links === null && data.profile1_identity_source === null && data.profile1_source === null) {
    entity.profile1 = null;
  }
  if (data.profile1 != null) {
    const embeddedData = data.profile1;
    if (entity.profile1 == null) {
      entity.profile1 = factory.createEmbeddable('Profile', embeddedData, { newEntity, convertCustomTypes });
    }
    if (data.profile1.username === null) {
      entity.profile1.username = null;
    } else if (typeof data.profile1.username !== 'undefined') {
      entity.profile1.username = data.profile1.username;
    }
    if (data.profile1_identity_email !== undefined || data.profile1_identity_meta_foo != null || data.profile1_identity_meta_bar != null || data.profile1_identity_meta_source != null || data.profile1_identity_links !== undefined || data.profile1_identity_source !== undefined) {
      const embeddedData = {
        email: data.profile1_identity_email,
        meta: data.profile1_identity_meta,
        links: data.profile1_identity_links,
        source: data.profile1_identity_source,
      };
      if (entity.profile1.identity == null) {
        entity.profile1.identity = factory.createEmbeddable('Identity', embeddedData, { newEntity, convertCustomTypes });
      }
      if (data.profile1_identity_email === null) {
        entity.profile1.identity.email = null;
      } else if (typeof data.profile1_identity_email !== 'undefined') {
        entity.profile1.identity.email = data.profile1_identity_email;
      }
      if (data.profile1_identity_meta_foo != null || data.profile1_identity_meta_bar != null || data.profile1_identity_meta_source != null) {
        const embeddedData = {
          foo: data.profile1_identity_meta_foo,
          bar: data.profile1_identity_meta_bar,
          source: data.profile1_identity_meta_source,
        };
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
        }
        if (data.profile1_identity_meta_foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1_identity_meta_foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1_identity_meta_foo;
        }
        if (data.profile1_identity_meta_bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1_identity_meta_bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1_identity_meta_bar;
        }
        if (data.profile1_identity_meta_source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1_identity_meta_source !== 'undefined') {
          if (isPrimaryKey(data.profile1_identity_meta_source, true)) {
            entity.profile1.identity.meta.source = factory.createReference('Source', data.profile1_identity_meta_source, { merge: true, convertCustomTypes, schema });
          } else if (data.profile1_identity_meta_source && typeof data.profile1_identity_meta_source === 'object') {
            entity.profile1.identity.meta.source = factory.create('Source', data.profile1_identity_meta_source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
          }
        }
      } else if (data.profile1_identity_meta_foo === null && data.profile1_identity_meta_bar === null && data.profile1_identity_meta_source === null) {
        entity.profile1.identity.meta = null;
      }
      if (data.profile1_identity_meta != null) {
        const embeddedData = data.profile1_identity_meta;
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
        }
        if (data.profile1_identity_meta.foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1_identity_meta.foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1_identity_meta.foo;
        }
        if (data.profile1_identity_meta.bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1_identity_meta.bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1_identity_meta.bar;
        }
        if (data.profile1_identity_meta.source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1_identity_meta.source !== 'undefined') {
          if (isPrimaryKey(data.profile1_identity_meta.source, true)) {
            entity.profile1.identity.meta.source = factory.createReference('Source', data.profile1_identity_meta.source, { merge: true, convertCustomTypes, schema });
          } else if (data.profile1_identity_meta.source && typeof data.profile1_identity_meta.source === 'object') {
            entity.profile1.identity.meta.source = factory.create('Source', data.profile1_identity_meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
          }
        }
      } else if (data.profile1_identity_meta === null) {
        entity.profile1.identity.meta = null;
      }
      if (Array.isArray(data.profile1_identity_links)) {
        entity.profile1.identity.links = [];
        data.profile1_identity_links.forEach((_, idx_35) => {
          if (data.profile1_identity_links[idx_35] != null) {
            const embeddedData = data.profile1_identity_links[idx_35];
            if (entity.profile1.identity.links[idx_35] == null) {
              entity.profile1.identity.links[idx_35] = factory.createEmbeddable('IdentityLink', embeddedData, { newEntity, convertCustomTypes });
            }
            if (data.profile1_identity_links[idx_35].url === null) {
              entity.profile1.identity.links[idx_35].url = null;
            } else if (typeof data.profile1_identity_links[idx_35].url !== 'undefined') {
              entity.profile1.identity.links[idx_35].url = data.profile1_identity_links[idx_35].url;
            }
            if (data.profile1_identity_links[idx_35].createdAt === null) {
              entity.profile1.identity.links[idx_35].createdAt = null;
            } else if (typeof data.profile1_identity_links[idx_35].createdAt !== 'undefined') {
              if (data.profile1_identity_links[idx_35].createdAt instanceof Date) {
                entity.profile1.identity.links[idx_35].createdAt = data.profile1_identity_links[idx_35].createdAt;
              } else if (typeof data.profile1_identity_links[idx_35].createdAt === 'number' || data.profile1_identity_links[idx_35].createdAt.includes('+') || data.profile1_identity_links[idx_35].createdAt.lastIndexOf('-') > 10 || data.profile1_identity_links[idx_35].createdAt.endsWith('Z')) {
                entity.profile1.identity.links[idx_35].createdAt = new Date(data.profile1_identity_links[idx_35].createdAt);
              } else {
                entity.profile1.identity.links[idx_35].createdAt = new Date(data.profile1_identity_links[idx_35].createdAt + 'Z');
              }
            }
            if (data.profile1_identity_links[idx_35].meta != null) {
              const embeddedData = data.profile1_identity_links[idx_35].meta;
              if (entity.profile1.identity.links[idx_35].meta == null) {
                entity.profile1.identity.links[idx_35].meta = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
              }
              if (data.profile1_identity_links[idx_35].meta.foo === null) {
                entity.profile1.identity.links[idx_35].meta.foo = null;
              } else if (typeof data.profile1_identity_links[idx_35].meta.foo !== 'undefined') {
                entity.profile1.identity.links[idx_35].meta.foo = data.profile1_identity_links[idx_35].meta.foo;
              }
              if (data.profile1_identity_links[idx_35].meta.bar === null) {
                entity.profile1.identity.links[idx_35].meta.bar = null;
              } else if (typeof data.profile1_identity_links[idx_35].meta.bar !== 'undefined') {
                entity.profile1.identity.links[idx_35].meta.bar = data.profile1_identity_links[idx_35].meta.bar;
              }
              if (data.profile1_identity_links[idx_35].meta.source === null) {
    entity.profile1.identity.links[idx_35].meta.source = null;
              } else if (typeof data.profile1_identity_links[idx_35].meta.source !== 'undefined') {
                if (isPrimaryKey(data.profile1_identity_links[idx_35].meta.source, true)) {
                  entity.profile1.identity.links[idx_35].meta.source = factory.createReference('Source', data.profile1_identity_links[idx_35].meta.source, { merge: true, convertCustomTypes, schema });
                } else if (data.profile1_identity_links[idx_35].meta.source && typeof data.profile1_identity_links[idx_35].meta.source === 'object') {
                  entity.profile1.identity.links[idx_35].meta.source = factory.create('Source', data.profile1_identity_links[idx_35].meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
                }
              }
            } else if (data.profile1_identity_links[idx_35].meta === null) {
              entity.profile1.identity.links[idx_35].meta = null;
            }
            if (Array.isArray(data.profile1_identity_links[idx_35].metas)) {
              entity.profile1.identity.links[idx_35].metas = [];
              data.profile1_identity_links[idx_35].metas.forEach((_, idx_40) => {
                if (data.profile1_identity_links[idx_35].metas[idx_40] != null) {
                  const embeddedData = data.profile1_identity_links[idx_35].metas[idx_40];
                  if (entity.profile1.identity.links[idx_35].metas[idx_40] == null) {
                    entity.profile1.identity.links[idx_35].metas[idx_40] = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
                  }
                  if (data.profile1_identity_links[idx_35].metas[idx_40].foo === null) {
                    entity.profile1.identity.links[idx_35].metas[idx_40].foo = null;
                  } else if (typeof data.profile1_identity_links[idx_35].metas[idx_40].foo !== 'undefined') {
                    entity.profile1.identity.links[idx_35].metas[idx_40].foo = data.profile1_identity_links[idx_35].metas[idx_40].foo;
                  }
                  if (data.profile1_identity_links[idx_35].metas[idx_40].bar === null) {
                    entity.profile1.identity.links[idx_35].metas[idx_40].bar = null;
                  } else if (typeof data.profile1_identity_links[idx_35].metas[idx_40].bar !== 'undefined') {
                    entity.profile1.identity.links[idx_35].metas[idx_40].bar = data.profile1_identity_links[idx_35].metas[idx_40].bar;
                  }
                  if (data.profile1_identity_links[idx_35].metas[idx_40].source === null) {
    entity.profile1.identity.links[idx_35].metas[idx_40].source = null;
                  } else if (typeof data.profile1_identity_links[idx_35].metas[idx_40].source !== 'undefined') {
                    if (isPrimaryKey(data.profile1_identity_links[idx_35].metas[idx_40].source, true)) {
                      entity.profile1.identity.links[idx_35].metas[idx_40].source = factory.createReference('Source', data.profile1_identity_links[idx_35].metas[idx_40].source, { merge: true, convertCustomTypes, schema });
                    } else if (data.profile1_identity_links[idx_35].metas[idx_40].source && typeof data.profile1_identity_links[idx_35].metas[idx_40].source === 'object') {
                      entity.profile1.identity.links[idx_35].metas[idx_40].source = factory.create('Source', data.profile1_identity_links[idx_35].metas[idx_40].source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
                    }
                  }
                } else if (data.profile1_identity_links[idx_35].metas[idx_40] === null) {
                  entity.profile1.identity.links[idx_35].metas[idx_40] = null;
                }
              });
            }
            if (data.profile1_identity_links[idx_35].source === null) {
    entity.profile1.identity.links[idx_35].source = null;
            } else if (typeof data.profile1_identity_links[idx_35].source !== 'undefined') {
              if (isPrimaryKey(data.profile1_identity_links[idx_35].source, true)) {
                entity.profile1.identity.links[idx_35].source = factory.createReference('Source', data.profile1_identity_links[idx_35].source, { merge: true, convertCustomTypes, schema });
              } else if (data.profile1_identity_links[idx_35].source && typeof data.profile1_identity_links[idx_35].source === 'object') {
                entity.profile1.identity.links[idx_35].source = factory.create('Source', data.profile1_identity_links[idx_35].source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
              }
            }
          } else if (data.profile1_identity_links[idx_35] === null) {
            entity.profile1.identity.links[idx_35] = null;
          }
        });
      }
      if (data.profile1_identity_source === null) {
    entity.profile1.identity.source = null;
      } else if (typeof data.profile1_identity_source !== 'undefined') {
        if (isPrimaryKey(data.profile1_identity_source, true)) {
          entity.profile1.identity.source = factory.createReference('Source', data.profile1_identity_source, { merge: true, convertCustomTypes, schema });
        } else if (data.profile1_identity_source && typeof data.profile1_identity_source === 'object') {
          entity.profile1.identity.source = factory.create('Source', data.profile1_identity_source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
        }
      }
    } else if (data.profile1_identity_email === null && data.profile1_identity_meta_foo === null && data.profile1_identity_meta_bar === null && data.profile1_identity_meta_source === null && data.profile1_identity_links === null && data.profile1_identity_source === null) {
      entity.profile1.identity = null;
    }
    if (data.profile1.identity != null) {
      const embeddedData = data.profile1.identity;
      if (entity.profile1.identity == null) {
        entity.profile1.identity = factory.createEmbeddable('Identity', embeddedData, { newEntity, convertCustomTypes });
      }
      if (data.profile1.identity.email === null) {
        entity.profile1.identity.email = null;
      } else if (typeof data.profile1.identity.email !== 'undefined') {
        entity.profile1.identity.email = data.profile1.identity.email;
      }
      if (data.profile1_identity_meta_foo != null || data.profile1_identity_meta_bar != null || data.profile1_identity_meta_source != null) {
        const embeddedData = {
          foo: data.profile1_identity_meta_foo,
          bar: data.profile1_identity_meta_bar,
          source: data.profile1_identity_meta_source,
        };
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
        }
        if (data.profile1_identity_meta_foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1_identity_meta_foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1_identity_meta_foo;
        }
        if (data.profile1_identity_meta_bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1_identity_meta_bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1_identity_meta_bar;
        }
        if (data.profile1_identity_meta_source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1_identity_meta_source !== 'undefined') {
          if (isPrimaryKey(data.profile1_identity_meta_source, true)) {
            entity.profile1.identity.meta.source = factory.createReference('Source', data.profile1_identity_meta_source, { merge: true, convertCustomTypes, schema });
          } else if (data.profile1_identity_meta_source && typeof data.profile1_identity_meta_source === 'object') {
            entity.profile1.identity.meta.source = factory.create('Source', data.profile1_identity_meta_source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
          }
        }
      } else if (data.profile1_identity_meta_foo === null && data.profile1_identity_meta_bar === null && data.profile1_identity_meta_source === null) {
        entity.profile1.identity.meta = null;
      }
      if (data.profile1.identity.meta != null) {
        const embeddedData = data.profile1.identity.meta;
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
        }
        if (data.profile1.identity.meta.foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1.identity.meta.foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1.identity.meta.foo;
        }
        if (data.profile1.identity.meta.bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1.identity.meta.bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1.identity.meta.bar;
        }
        if (data.profile1.identity.meta.source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1.identity.meta.source !== 'undefined') {
          if (isPrimaryKey(data.profile1.identity.meta.source, true)) {
            entity.profile1.identity.meta.source = factory.createReference('Source', data.profile1.identity.meta.source, { merge: true, convertCustomTypes, schema });
          } else if (data.profile1.identity.meta.source && typeof data.profile1.identity.meta.source === 'object') {
            entity.profile1.identity.meta.source = factory.create('Source', data.profile1.identity.meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
          }
        }
      } else if (data.profile1.identity.meta === null) {
        entity.profile1.identity.meta = null;
      }
      if (Array.isArray(data.profile1.identity.links)) {
        entity.profile1.identity.links = [];
        data.profile1.identity.links.forEach((_, idx_48) => {
          if (data.profile1.identity.links[idx_48] != null) {
            const embeddedData = data.profile1.identity.links[idx_48];
            if (entity.profile1.identity.links[idx_48] == null) {
              entity.profile1.identity.links[idx_48] = factory.createEmbeddable('IdentityLink', embeddedData, { newEntity, convertCustomTypes });
            }
            if (data.profile1.identity.links[idx_48].url === null) {
              entity.profile1.identity.links[idx_48].url = null;
            } else if (typeof data.profile1.identity.links[idx_48].url !== 'undefined') {
              entity.profile1.identity.links[idx_48].url = data.profile1.identity.links[idx_48].url;
            }
            if (data.profile1.identity.links[idx_48].createdAt === null) {
              entity.profile1.identity.links[idx_48].createdAt = null;
            } else if (typeof data.profile1.identity.links[idx_48].createdAt !== 'undefined') {
              if (data.profile1.identity.links[idx_48].createdAt instanceof Date) {
                entity.profile1.identity.links[idx_48].createdAt = data.profile1.identity.links[idx_48].createdAt;
              } else if (typeof data.profile1.identity.links[idx_48].createdAt === 'number' || data.profile1.identity.links[idx_48].createdAt.includes('+') || data.profile1.identity.links[idx_48].createdAt.lastIndexOf('-') > 10 || data.profile1.identity.links[idx_48].createdAt.endsWith('Z')) {
                entity.profile1.identity.links[idx_48].createdAt = new Date(data.profile1.identity.links[idx_48].createdAt);
              } else {
                entity.profile1.identity.links[idx_48].createdAt = new Date(data.profile1.identity.links[idx_48].createdAt + 'Z');
              }
            }
            if (data.profile1.identity.links[idx_48].meta != null) {
              const embeddedData = data.profile1.identity.links[idx_48].meta;
              if (entity.profile1.identity.links[idx_48].meta == null) {
                entity.profile1.identity.links[idx_48].meta = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
              }
              if (data.profile1.identity.links[idx_48].meta.foo === null) {
                entity.profile1.identity.links[idx_48].meta.foo = null;
              } else if (typeof data.profile1.identity.links[idx_48].meta.foo !== 'undefined') {
                entity.profile1.identity.links[idx_48].meta.foo = data.profile1.identity.links[idx_48].meta.foo;
              }
              if (data.profile1.identity.links[idx_48].meta.bar === null) {
                entity.profile1.identity.links[idx_48].meta.bar = null;
              } else if (typeof data.profile1.identity.links[idx_48].meta.bar !== 'undefined') {
                entity.profile1.identity.links[idx_48].meta.bar = data.profile1.identity.links[idx_48].meta.bar;
              }
              if (data.profile1.identity.links[idx_48].meta.source === null) {
    entity.profile1.identity.links[idx_48].meta.source = null;
              } else if (typeof data.profile1.identity.links[idx_48].meta.source !== 'undefined') {
                if (isPrimaryKey(data.profile1.identity.links[idx_48].meta.source, true)) {
                  entity.profile1.identity.links[idx_48].meta.source = factory.createReference('Source', data.profile1.identity.links[idx_48].meta.source, { merge: true, convertCustomTypes, schema });
                } else if (data.profile1.identity.links[idx_48].meta.source && typeof data.profile1.identity.links[idx_48].meta.source === 'object') {
                  entity.profile1.identity.links[idx_48].meta.source = factory.create('Source', data.profile1.identity.links[idx_48].meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
                }
              }
            } else if (data.profile1.identity.links[idx_48].meta === null) {
              entity.profile1.identity.links[idx_48].meta = null;
            }
            if (Array.isArray(data.profile1.identity.links[idx_48].metas)) {
              entity.profile1.identity.links[idx_48].metas = [];
              data.profile1.identity.links[idx_48].metas.forEach((_, idx_53) => {
                if (data.profile1.identity.links[idx_48].metas[idx_53] != null) {
                  const embeddedData = data.profile1.identity.links[idx_48].metas[idx_53];
                  if (entity.profile1.identity.links[idx_48].metas[idx_53] == null) {
                    entity.profile1.identity.links[idx_48].metas[idx_53] = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
                  }
                  if (data.profile1.identity.links[idx_48].metas[idx_53].foo === null) {
                    entity.profile1.identity.links[idx_48].metas[idx_53].foo = null;
                  } else if (typeof data.profile1.identity.links[idx_48].metas[idx_53].foo !== 'undefined') {
                    entity.profile1.identity.links[idx_48].metas[idx_53].foo = data.profile1.identity.links[idx_48].metas[idx_53].foo;
                  }
                  if (data.profile1.identity.links[idx_48].metas[idx_53].bar === null) {
                    entity.profile1.identity.links[idx_48].metas[idx_53].bar = null;
                  } else if (typeof data.profile1.identity.links[idx_48].metas[idx_53].bar !== 'undefined') {
                    entity.profile1.identity.links[idx_48].metas[idx_53].bar = data.profile1.identity.links[idx_48].metas[idx_53].bar;
                  }
                  if (data.profile1.identity.links[idx_48].metas[idx_53].source === null) {
    entity.profile1.identity.links[idx_48].metas[idx_53].source = null;
                  } else if (typeof data.profile1.identity.links[idx_48].metas[idx_53].source !== 'undefined') {
                    if (isPrimaryKey(data.profile1.identity.links[idx_48].metas[idx_53].source, true)) {
                      entity.profile1.identity.links[idx_48].metas[idx_53].source = factory.createReference('Source', data.profile1.identity.links[idx_48].metas[idx_53].source, { merge: true, convertCustomTypes, schema });
                    } else if (data.profile1.identity.links[idx_48].metas[idx_53].source && typeof data.profile1.identity.links[idx_48].metas[idx_53].source === 'object') {
                      entity.profile1.identity.links[idx_48].metas[idx_53].source = factory.create('Source', data.profile1.identity.links[idx_48].metas[idx_53].source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
                    }
                  }
                } else if (data.profile1.identity.links[idx_48].metas[idx_53] === null) {
                  entity.profile1.identity.links[idx_48].metas[idx_53] = null;
                }
              });
            }
            if (data.profile1.identity.links[idx_48].source === null) {
    entity.profile1.identity.links[idx_48].source = null;
            } else if (typeof data.profile1.identity.links[idx_48].source !== 'undefined') {
              if (isPrimaryKey(data.profile1.identity.links[idx_48].source, true)) {
                entity.profile1.identity.links[idx_48].source = factory.createReference('Source', data.profile1.identity.links[idx_48].source, { merge: true, convertCustomTypes, schema });
              } else if (data.profile1.identity.links[idx_48].source && typeof data.profile1.identity.links[idx_48].source === 'object') {
                entity.profile1.identity.links[idx_48].source = factory.create('Source', data.profile1.identity.links[idx_48].source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
              }
            }
          } else if (data.profile1.identity.links[idx_48] === null) {
            entity.profile1.identity.links[idx_48] = null;
          }
        });
      }
      if (data.profile1.identity.source === null) {
    entity.profile1.identity.source = null;
      } else if (typeof data.profile1.identity.source !== 'undefined') {
        if (isPrimaryKey(data.profile1.identity.source, true)) {
          entity.profile1.identity.source = factory.createReference('Source', data.profile1.identity.source, { merge: true, convertCustomTypes, schema });
        } else if (data.profile1.identity.source && typeof data.profile1.identity.source === 'object') {
          entity.profile1.identity.source = factory.create('Source', data.profile1.identity.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
        }
      }
    } else if (data.profile1.identity === null) {
      entity.profile1.identity = null;
    }
    if (data.profile1.source === null) {
    entity.profile1.source = null;
    } else if (typeof data.profile1.source !== 'undefined') {
      if (isPrimaryKey(data.profile1.source, true)) {
        entity.profile1.source = factory.createReference('Source', data.profile1.source, { merge: true, convertCustomTypes, schema });
      } else if (data.profile1.source && typeof data.profile1.source === 'object') {
        entity.profile1.source = factory.create('Source', data.profile1.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
      }
    }
  } else if (data.profile1 === null) {
    entity.profile1 = null;
  }
  if (data.profile2 != null) {
    const embeddedData = data.profile2;
    if (entity.profile2 == null) {
      entity.profile2 = factory.createEmbeddable('Profile', embeddedData, { newEntity, convertCustomTypes });
    }
    if (data.profile2.username === null) {
      entity.profile2.username = null;
    } else if (typeof data.profile2.username !== 'undefined') {
      entity.profile2.username = data.profile2.username;
    }
    if (data.profile2.identity != null) {
      const embeddedData = data.profile2.identity;
      if (entity.profile2.identity == null) {
        entity.profile2.identity = factory.createEmbeddable('Identity', embeddedData, { newEntity, convertCustomTypes });
      }
      if (data.profile2.identity.email === null) {
        entity.profile2.identity.email = null;
      } else if (typeof data.profile2.identity.email !== 'undefined') {
        entity.profile2.identity.email = data.profile2.identity.email;
      }
      if (data.profile2.identity.meta != null) {
        const embeddedData = data.profile2.identity.meta;
        if (entity.profile2.identity.meta == null) {
          entity.profile2.identity.meta = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
        }
        if (data.profile2.identity.meta.foo === null) {
          entity.profile2.identity.meta.foo = null;
        } else if (typeof data.profile2.identity.meta.foo !== 'undefined') {
          entity.profile2.identity.meta.foo = data.profile2.identity.meta.foo;
        }
        if (data.profile2.identity.meta.bar === null) {
          entity.profile2.identity.meta.bar = null;
        } else if (typeof data.profile2.identity.meta.bar !== 'undefined') {
          entity.profile2.identity.meta.bar = data.profile2.identity.meta.bar;
        }
        if (data.profile2.identity.meta.source === null) {
    entity.profile2.identity.meta.source = null;
        } else if (typeof data.profile2.identity.meta.source !== 'undefined') {
          if (isPrimaryKey(data.profile2.identity.meta.source, true)) {
            entity.profile2.identity.meta.source = factory.createReference('Source', data.profile2.identity.meta.source, { merge: true, convertCustomTypes, schema });
          } else if (data.profile2.identity.meta.source && typeof data.profile2.identity.meta.source === 'object') {
            entity.profile2.identity.meta.source = factory.create('Source', data.profile2.identity.meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
          }
        }
      } else if (data.profile2.identity.meta === null) {
        entity.profile2.identity.meta = null;
      }
      if (Array.isArray(data.profile2.identity.links)) {
        entity.profile2.identity.links = [];
        data.profile2.identity.links.forEach((_, idx_60) => {
          if (data.profile2.identity.links[idx_60] != null) {
            const embeddedData = data.profile2.identity.links[idx_60];
            if (entity.profile2.identity.links[idx_60] == null) {
              entity.profile2.identity.links[idx_60] = factory.createEmbeddable('IdentityLink', embeddedData, { newEntity, convertCustomTypes });
            }
            if (data.profile2.identity.links[idx_60].url === null) {
              entity.profile2.identity.links[idx_60].url = null;
            } else if (typeof data.profile2.identity.links[idx_60].url !== 'undefined') {
              entity.profile2.identity.links[idx_60].url = data.profile2.identity.links[idx_60].url;
            }
            if (data.profile2.identity.links[idx_60].createdAt === null) {
              entity.profile2.identity.links[idx_60].createdAt = null;
            } else if (typeof data.profile2.identity.links[idx_60].createdAt !== 'undefined') {
              if (data.profile2.identity.links[idx_60].createdAt instanceof Date) {
                entity.profile2.identity.links[idx_60].createdAt = data.profile2.identity.links[idx_60].createdAt;
              } else if (typeof data.profile2.identity.links[idx_60].createdAt === 'number' || data.profile2.identity.links[idx_60].createdAt.includes('+') || data.profile2.identity.links[idx_60].createdAt.lastIndexOf('-') > 10 || data.profile2.identity.links[idx_60].createdAt.endsWith('Z')) {
                entity.profile2.identity.links[idx_60].createdAt = new Date(data.profile2.identity.links[idx_60].createdAt);
              } else {
                entity.profile2.identity.links[idx_60].createdAt = new Date(data.profile2.identity.links[idx_60].createdAt + 'Z');
              }
            }
            if (data.profile2.identity.links[idx_60].meta != null) {
              const embeddedData = data.profile2.identity.links[idx_60].meta;
              if (entity.profile2.identity.links[idx_60].meta == null) {
                entity.profile2.identity.links[idx_60].meta = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
              }
              if (data.profile2.identity.links[idx_60].meta.foo === null) {
                entity.profile2.identity.links[idx_60].meta.foo = null;
              } else if (typeof data.profile2.identity.links[idx_60].meta.foo !== 'undefined') {
                entity.profile2.identity.links[idx_60].meta.foo = data.profile2.identity.links[idx_60].meta.foo;
              }
              if (data.profile2.identity.links[idx_60].meta.bar === null) {
                entity.profile2.identity.links[idx_60].meta.bar = null;
              } else if (typeof data.profile2.identity.links[idx_60].meta.bar !== 'undefined') {
                entity.profile2.identity.links[idx_60].meta.bar = data.profile2.identity.links[idx_60].meta.bar;
              }
              if (data.profile2.identity.links[idx_60].meta.source === null) {
    entity.profile2.identity.links[idx_60].meta.source = null;
              } else if (typeof data.profile2.identity.links[idx_60].meta.source !== 'undefined') {
                if (isPrimaryKey(data.profile2.identity.links[idx_60].meta.source, true)) {
                  entity.profile2.identity.links[idx_60].meta.source = factory.createReference('Source', data.profile2.identity.links[idx_60].meta.source, { merge: true, convertCustomTypes, schema });
                } else if (data.profile2.identity.links[idx_60].meta.source && typeof data.profile2.identity.links[idx_60].meta.source === 'object') {
                  entity.profile2.identity.links[idx_60].meta.source = factory.create('Source', data.profile2.identity.links[idx_60].meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
                }
              }
            } else if (data.profile2.identity.links[idx_60].meta === null) {
              entity.profile2.identity.links[idx_60].meta = null;
            }
            if (Array.isArray(data.profile2.identity.links[idx_60].metas)) {
              entity.profile2.identity.links[idx_60].metas = [];
              data.profile2.identity.links[idx_60].metas.forEach((_, idx_65) => {
                if (data.profile2.identity.links[idx_60].metas[idx_65] != null) {
                  const embeddedData = data.profile2.identity.links[idx_60].metas[idx_65];
                  if (entity.profile2.identity.links[idx_60].metas[idx_65] == null) {
                    entity.profile2.identity.links[idx_60].metas[idx_65] = factory.createEmbeddable('IdentityMeta', embeddedData, { newEntity, convertCustomTypes });
                  }
                  if (data.profile2.identity.links[idx_60].metas[idx_65].foo === null) {
                    entity.profile2.identity.links[idx_60].metas[idx_65].foo = null;
                  } else if (typeof data.profile2.identity.links[idx_60].metas[idx_65].foo !== 'undefined') {
                    entity.profile2.identity.links[idx_60].metas[idx_65].foo = data.profile2.identity.links[idx_60].metas[idx_65].foo;
                  }
                  if (data.profile2.identity.links[idx_60].metas[idx_65].bar === null) {
                    entity.profile2.identity.links[idx_60].metas[idx_65].bar = null;
                  } else if (typeof data.profile2.identity.links[idx_60].metas[idx_65].bar !== 'undefined') {
                    entity.profile2.identity.links[idx_60].metas[idx_65].bar = data.profile2.identity.links[idx_60].metas[idx_65].bar;
                  }
                  if (data.profile2.identity.links[idx_60].metas[idx_65].source === null) {
    entity.profile2.identity.links[idx_60].metas[idx_65].source = null;
                  } else if (typeof data.profile2.identity.links[idx_60].metas[idx_65].source !== 'undefined') {
                    if (isPrimaryKey(data.profile2.identity.links[idx_60].metas[idx_65].source, true)) {
                      entity.profile2.identity.links[idx_60].metas[idx_65].source = factory.createReference('Source', data.profile2.identity.links[idx_60].metas[idx_65].source, { merge: true, convertCustomTypes, schema });
                    } else if (data.profile2.identity.links[idx_60].metas[idx_65].source && typeof data.profile2.identity.links[idx_60].metas[idx_65].source === 'object') {
                      entity.profile2.identity.links[idx_60].metas[idx_65].source = factory.create('Source', data.profile2.identity.links[idx_60].metas[idx_65].source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
                    }
                  }
                } else if (data.profile2.identity.links[idx_60].metas[idx_65] === null) {
                  entity.profile2.identity.links[idx_60].metas[idx_65] = null;
                }
              });
            }
            if (data.profile2.identity.links[idx_60].source === null) {
    entity.profile2.identity.links[idx_60].source = null;
            } else if (typeof data.profile2.identity.links[idx_60].source !== 'undefined') {
              if (isPrimaryKey(data.profile2.identity.links[idx_60].source, true)) {
                entity.profile2.identity.links[idx_60].source = factory.createReference('Source', data.profile2.identity.links[idx_60].source, { merge: true, convertCustomTypes, schema });
              } else if (data.profile2.identity.links[idx_60].source && typeof data.profile2.identity.links[idx_60].source === 'object') {
                entity.profile2.identity.links[idx_60].source = factory.create('Source', data.profile2.identity.links[idx_60].source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
              }
            }
          } else if (data.profile2.identity.links[idx_60] === null) {
            entity.profile2.identity.links[idx_60] = null;
          }
        });
      }
      if (data.profile2.identity.source === null) {
    entity.profile2.identity.source = null;
      } else if (typeof data.profile2.identity.source !== 'undefined') {
        if (isPrimaryKey(data.profile2.identity.source, true)) {
          entity.profile2.identity.source = factory.createReference('Source', data.profile2.identity.source, { merge: true, convertCustomTypes, schema });
        } else if (data.profile2.identity.source && typeof data.profile2.identity.source === 'object') {
          entity.profile2.identity.source = factory.create('Source', data.profile2.identity.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
        }
      }
    } else if (data.profile2.identity === null) {
      entity.profile2.identity = null;
    }
    if (data.profile2.source === null) {
    entity.profile2.source = null;
    } else if (typeof data.profile2.source !== 'undefined') {
      if (isPrimaryKey(data.profile2.source, true)) {
        entity.profile2.source = factory.createReference('Source', data.profile2.source, { merge: true, convertCustomTypes, schema });
      } else if (data.profile2.source && typeof data.profile2.source === 'object') {
        entity.profile2.source = factory.create('Source', data.profile2.source, { initialized: true, merge: true, newEntity, convertCustomTypes, schema });
      }
    }
  } else if (data.profile2 === null) {
    entity.profile2 = null;
  }
}"
`;

exports[`embedded entities in postgres > schema > nested embeddables 1 1`] = `
"create table "source" ("id" serial primary key, "name" varchar(255) not null);

create table "user" ("id" serial primary key, "name" varchar(255) not null, "profile1_username" varchar(255) not null, "profile1_identity_email" varchar(255) not null, "profile1_source_id" int null, "profile1_identity_meta_foo" varchar(255) null, "profile1_identity_links" jsonb not null, "profile1_identity_meta_bar" varchar(255) null, "profile1_identity_source_id" int null, "profile1_identity_meta_source_id" int null, "profile2" jsonb not null);

alter table "user" add constraint "user_profile1_source_id_foreign" foreign key ("profile1_source_id") references "source" ("id") on update cascade on delete set null;
alter table "user" add constraint "user_profile1_identity_source_id_foreign" foreign key ("profile1_identity_source_id") references "source" ("id") on update cascade on delete set null;
alter table "user" add constraint "user_profile1_identity_meta_source_id_foreign" foreign key ("profile1_identity_meta_source_id") references "source" ("id") on update cascade on delete set null;
"
`;

exports[`embedded entities in postgres > schema > nested embeddables 2 1`] = `""`;

exports[`embedded entities in postgres > schema > nested embeddables 3 1`] = `
"drop table if exists "user" cascade;
drop table if exists "source" cascade;
"
`;
