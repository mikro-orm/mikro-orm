// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`embedded entities in postgres > diffing 1`] = `
"function(entity) {
  const ret = {};
  if (typeof entity.id !== 'undefined') {
    ret.id = entity.id;
  }

  if (typeof entity.name !== 'undefined') {
    ret.name = entity.name;
  }

  if (entity.profile1 === null) {
    ret.profile1_username = null;
    ret.profile1_identity = null;
    ret.profile1_source = null;
  }
  if (entity.profile1 != null) {
    if (typeof entity.profile1.username !== 'undefined') ret.profile1_username = clone(entity.profile1.username);

    if (entity.profile1.identity === null) {
      ret.profile1_identity_email = null;
      ret.profile1_identity_meta = null;
      ret.profile1_identity_links = null;
      ret.profile1_identity_source = null;
    }
    if (entity.profile1.identity != null) {
      if (typeof entity.profile1.identity.email !== 'undefined') ret.profile1_identity_email = clone(entity.profile1.identity.email);

      if (entity.profile1.identity.meta === null) {
        ret.profile1_identity_meta_foo = null;
        ret.profile1_identity_meta_bar = null;
        ret.profile1_identity_meta_source = null;
      }
      if (entity.profile1.identity.meta != null) {
        if (typeof entity.profile1.identity.meta.foo !== 'undefined') ret.profile1_identity_meta_foo = clone(entity.profile1.identity.meta.foo);
        if (typeof entity.profile1.identity.meta.bar !== 'undefined') ret.profile1_identity_meta_bar = clone(entity.profile1.identity.meta.bar);
        if (typeof entity.profile1 !== 'undefined' && typeof entity.profile1.identity !== 'undefined' && typeof entity.profile1.identity.meta !== 'undefined') {
          if (entity.profile1.identity.meta.source === null) {
            ret.profile1_identity_meta_source = null;
          } else if (entity.profile1.identity.meta.source?.__helper.__identifier && !entity.profile1.identity.meta.source.__helper.hasPrimaryKey()) {
            ret.profile1_identity_meta_source = entity.profile1.identity.meta.source?.__helper.__identifier;
          } else if (typeof entity.profile1.identity.meta.source !== 'undefined') {
            ret.profile1_identity_meta_source = toArray(entity.profile1.identity.meta.source.__helper.getPrimaryKey(true));
          }
        }
      
      }

      if (Array.isArray(entity.profile1.identity.links)) {
        ret.profile1_identity_links = [];
        entity.profile1.identity.links.forEach((_, idx_0) => {

          if (entity.profile1.identity.links[idx_0] === null) ret.profile1_identity_links[idx_0] = null;
          if (entity.profile1.identity.links[idx_0] != null) {
            ret.profile1_identity_links[idx_0] = {};
            if (typeof entity.profile1.identity.links[idx_0].url !== 'undefined') ret.profile1_identity_links[idx_0].url = clone(entity.profile1.identity.links[idx_0].url);
            if (typeof entity.profile1.identity.links[idx_0].createdAt !== 'undefined') ret.profile1_identity_links[idx_0].createdAt = clone(entity.profile1.identity.links[idx_0].createdAt);

            if (entity.profile1.identity.links[idx_0].meta === null) ret.profile1_identity_links[idx_0].meta = null;
            if (entity.profile1.identity.links[idx_0].meta != null) {
              ret.profile1_identity_links[idx_0].meta = {};
              if (typeof entity.profile1.identity.links[idx_0].meta.foo !== 'undefined') ret.profile1_identity_links[idx_0].meta.foo = clone(entity.profile1.identity.links[idx_0].meta.foo);
              if (typeof entity.profile1.identity.links[idx_0].meta.bar !== 'undefined') ret.profile1_identity_links[idx_0].meta.bar = clone(entity.profile1.identity.links[idx_0].meta.bar);
              if (typeof entity.profile1 !== 'undefined' && typeof entity.profile1.identity !== 'undefined' && typeof entity.profile1.identity.links !== 'undefined' && typeof entity.profile1.identity.links[idx_0].meta !== 'undefined') {
                if (entity.profile1.identity.links[idx_0].meta.source === null) {
                  ret.profile1_identity_links[idx_0].meta.source = null;
                } else if (entity.profile1.identity.links[idx_0].meta.source?.__helper.__identifier && !entity.profile1.identity.links[idx_0].meta.source.__helper.hasPrimaryKey()) {
                  ret.profile1_identity_links[idx_0].meta.source = entity.profile1.identity.links[idx_0].meta.source?.__helper.__identifier;
                } else if (typeof entity.profile1.identity.links[idx_0].meta.source !== 'undefined') {
                  ret.profile1_identity_links[idx_0].meta.source = toArray(entity.profile1.identity.links[idx_0].meta.source.__helper.getPrimaryKey(true));
                }
              }
            
            }

            if (Array.isArray(entity.profile1.identity.links[idx_0].metas)) {
              ret.profile1_identity_links[idx_0].metas = [];
              entity.profile1.identity.links[idx_0].metas.forEach((_, idx_1) => {

                if (entity.profile1.identity.links[idx_0].metas[idx_1] === null) ret.profile1_identity_links[idx_0].metas[idx_1] = null;
                if (entity.profile1.identity.links[idx_0].metas[idx_1] != null) {
                  ret.profile1_identity_links[idx_0].metas[idx_1] = {};
                  if (typeof entity.profile1.identity.links[idx_0].metas[idx_1].foo !== 'undefined') ret.profile1_identity_links[idx_0].metas[idx_1].foo = clone(entity.profile1.identity.links[idx_0].metas[idx_1].foo);
                  if (typeof entity.profile1.identity.links[idx_0].metas[idx_1].bar !== 'undefined') ret.profile1_identity_links[idx_0].metas[idx_1].bar = clone(entity.profile1.identity.links[idx_0].metas[idx_1].bar);
                  if (typeof entity.profile1 !== 'undefined' && typeof entity.profile1.identity !== 'undefined' && typeof entity.profile1.identity.links !== 'undefined' && typeof entity.profile1.identity.links[idx_0].metas !== 'undefined') {
                    if (entity.profile1.identity.links[idx_0].metas[idx_1].source === null) {
                      ret.profile1_identity_links[idx_0].metas[idx_1].source = null;
                    } else if (entity.profile1.identity.links[idx_0].metas[idx_1].source?.__helper.__identifier && !entity.profile1.identity.links[idx_0].metas[idx_1].source.__helper.hasPrimaryKey()) {
                      ret.profile1_identity_links[idx_0].metas[idx_1].source = entity.profile1.identity.links[idx_0].metas[idx_1].source?.__helper.__identifier;
                    } else if (typeof entity.profile1.identity.links[idx_0].metas[idx_1].source !== 'undefined') {
                      ret.profile1_identity_links[idx_0].metas[idx_1].source = toArray(entity.profile1.identity.links[idx_0].metas[idx_1].source.__helper.getPrimaryKey(true));
                    }
                  }
                
                }
              });
            }

            if (typeof entity.profile1 !== 'undefined' && typeof entity.profile1.identity !== 'undefined' && typeof entity.profile1.identity.links !== 'undefined') {
              if (entity.profile1.identity.links[idx_0].source === null) {
                ret.profile1_identity_links[idx_0].source = null;
              } else if (entity.profile1.identity.links[idx_0].source?.__helper.__identifier && !entity.profile1.identity.links[idx_0].source.__helper.hasPrimaryKey()) {
                ret.profile1_identity_links[idx_0].source = entity.profile1.identity.links[idx_0].source?.__helper.__identifier;
              } else if (typeof entity.profile1.identity.links[idx_0].source !== 'undefined') {
                ret.profile1_identity_links[idx_0].source = toArray(entity.profile1.identity.links[idx_0].source.__helper.getPrimaryKey(true));
              }
            }
          
          }
        });
        ret.profile1_identity_links = cloneEmbeddable(ret.profile1_identity_links);
      }

      if (typeof entity.profile1 !== 'undefined' && typeof entity.profile1.identity !== 'undefined') {
        if (entity.profile1.identity.source === null) {
          ret.profile1_identity_source = null;
        } else if (entity.profile1.identity.source?.__helper.__identifier && !entity.profile1.identity.source.__helper.hasPrimaryKey()) {
          ret.profile1_identity_source = entity.profile1.identity.source?.__helper.__identifier;
        } else if (typeof entity.profile1.identity.source !== 'undefined') {
          ret.profile1_identity_source = toArray(entity.profile1.identity.source.__helper.getPrimaryKey(true));
        }
      }
    
    }

    if (typeof entity.profile1 !== 'undefined') {
      if (entity.profile1.source === null) {
        ret.profile1_source = null;
      } else if (entity.profile1.source?.__helper.__identifier && !entity.profile1.source.__helper.hasPrimaryKey()) {
        ret.profile1_source = entity.profile1.source?.__helper.__identifier;
      } else if (typeof entity.profile1.source !== 'undefined') {
        ret.profile1_source = toArray(entity.profile1.source.__helper.getPrimaryKey(true));
      }
    }
  
  }

  if (entity.profile2 === null) ret.profile2 = null;
  if (entity.profile2 != null) {
    ret.profile2 = {};
    if (typeof entity.profile2.username !== 'undefined') ret.profile2.username = clone(entity.profile2.username);

    if (entity.profile2.identity === null) ret.profile2.identity = null;
    if (entity.profile2.identity != null) {
      ret.profile2.identity = {};
      if (typeof entity.profile2.identity.email !== 'undefined') ret.profile2.identity.email = clone(entity.profile2.identity.email);

      if (entity.profile2.identity.meta === null) ret.profile2.identity.meta = null;
      if (entity.profile2.identity.meta != null) {
        ret.profile2.identity.meta = {};
        if (typeof entity.profile2.identity.meta.foo !== 'undefined') ret.profile2.identity.meta.foo = clone(entity.profile2.identity.meta.foo);
        if (typeof entity.profile2.identity.meta.bar !== 'undefined') ret.profile2.identity.meta.bar = clone(entity.profile2.identity.meta.bar);
        if (typeof entity.profile2 !== 'undefined' && typeof entity.profile2.identity !== 'undefined' && typeof entity.profile2.identity.meta !== 'undefined') {
          if (entity.profile2.identity.meta.source === null) {
            ret.profile2.identity.meta.source = null;
          } else if (entity.profile2.identity.meta.source?.__helper.__identifier && !entity.profile2.identity.meta.source.__helper.hasPrimaryKey()) {
            ret.profile2.identity.meta.source = entity.profile2.identity.meta.source?.__helper.__identifier;
          } else if (typeof entity.profile2.identity.meta.source !== 'undefined') {
            ret.profile2.identity.meta.source = toArray(entity.profile2.identity.meta.source.__helper.getPrimaryKey(true));
          }
        }
      
      }

      if (Array.isArray(entity.profile2.identity.links)) {
        ret.profile2.identity.links = [];
        entity.profile2.identity.links.forEach((_, idx_2) => {

          if (entity.profile2.identity.links[idx_2] === null) ret.profile2.identity.links[idx_2] = null;
          if (entity.profile2.identity.links[idx_2] != null) {
            ret.profile2.identity.links[idx_2] = {};
            if (typeof entity.profile2.identity.links[idx_2].url !== 'undefined') ret.profile2.identity.links[idx_2].url = clone(entity.profile2.identity.links[idx_2].url);
            if (typeof entity.profile2.identity.links[idx_2].createdAt !== 'undefined') ret.profile2.identity.links[idx_2].createdAt = clone(entity.profile2.identity.links[idx_2].createdAt);

            if (entity.profile2.identity.links[idx_2].meta === null) ret.profile2.identity.links[idx_2].meta = null;
            if (entity.profile2.identity.links[idx_2].meta != null) {
              ret.profile2.identity.links[idx_2].meta = {};
              if (typeof entity.profile2.identity.links[idx_2].meta.foo !== 'undefined') ret.profile2.identity.links[idx_2].meta.foo = clone(entity.profile2.identity.links[idx_2].meta.foo);
              if (typeof entity.profile2.identity.links[idx_2].meta.bar !== 'undefined') ret.profile2.identity.links[idx_2].meta.bar = clone(entity.profile2.identity.links[idx_2].meta.bar);
              if (typeof entity.profile2 !== 'undefined' && typeof entity.profile2.identity !== 'undefined' && typeof entity.profile2.identity.links !== 'undefined' && typeof entity.profile2.identity.links[idx_2].meta !== 'undefined') {
                if (entity.profile2.identity.links[idx_2].meta.source === null) {
                  ret.profile2.identity.links[idx_2].meta.source = null;
                } else if (entity.profile2.identity.links[idx_2].meta.source?.__helper.__identifier && !entity.profile2.identity.links[idx_2].meta.source.__helper.hasPrimaryKey()) {
                  ret.profile2.identity.links[idx_2].meta.source = entity.profile2.identity.links[idx_2].meta.source?.__helper.__identifier;
                } else if (typeof entity.profile2.identity.links[idx_2].meta.source !== 'undefined') {
                  ret.profile2.identity.links[idx_2].meta.source = toArray(entity.profile2.identity.links[idx_2].meta.source.__helper.getPrimaryKey(true));
                }
              }
            
            }

            if (Array.isArray(entity.profile2.identity.links[idx_2].metas)) {
              ret.profile2.identity.links[idx_2].metas = [];
              entity.profile2.identity.links[idx_2].metas.forEach((_, idx_3) => {

                if (entity.profile2.identity.links[idx_2].metas[idx_3] === null) ret.profile2.identity.links[idx_2].metas[idx_3] = null;
                if (entity.profile2.identity.links[idx_2].metas[idx_3] != null) {
                  ret.profile2.identity.links[idx_2].metas[idx_3] = {};
                  if (typeof entity.profile2.identity.links[idx_2].metas[idx_3].foo !== 'undefined') ret.profile2.identity.links[idx_2].metas[idx_3].foo = clone(entity.profile2.identity.links[idx_2].metas[idx_3].foo);
                  if (typeof entity.profile2.identity.links[idx_2].metas[idx_3].bar !== 'undefined') ret.profile2.identity.links[idx_2].metas[idx_3].bar = clone(entity.profile2.identity.links[idx_2].metas[idx_3].bar);
                  if (typeof entity.profile2 !== 'undefined' && typeof entity.profile2.identity !== 'undefined' && typeof entity.profile2.identity.links !== 'undefined' && typeof entity.profile2.identity.links[idx_2].metas !== 'undefined') {
                    if (entity.profile2.identity.links[idx_2].metas[idx_3].source === null) {
                      ret.profile2.identity.links[idx_2].metas[idx_3].source = null;
                    } else if (entity.profile2.identity.links[idx_2].metas[idx_3].source?.__helper.__identifier && !entity.profile2.identity.links[idx_2].metas[idx_3].source.__helper.hasPrimaryKey()) {
                      ret.profile2.identity.links[idx_2].metas[idx_3].source = entity.profile2.identity.links[idx_2].metas[idx_3].source?.__helper.__identifier;
                    } else if (typeof entity.profile2.identity.links[idx_2].metas[idx_3].source !== 'undefined') {
                      ret.profile2.identity.links[idx_2].metas[idx_3].source = toArray(entity.profile2.identity.links[idx_2].metas[idx_3].source.__helper.getPrimaryKey(true));
                    }
                  }
                
                }
              });
            }

            if (typeof entity.profile2 !== 'undefined' && typeof entity.profile2.identity !== 'undefined' && typeof entity.profile2.identity.links !== 'undefined') {
              if (entity.profile2.identity.links[idx_2].source === null) {
                ret.profile2.identity.links[idx_2].source = null;
              } else if (entity.profile2.identity.links[idx_2].source?.__helper.__identifier && !entity.profile2.identity.links[idx_2].source.__helper.hasPrimaryKey()) {
                ret.profile2.identity.links[idx_2].source = entity.profile2.identity.links[idx_2].source?.__helper.__identifier;
              } else if (typeof entity.profile2.identity.links[idx_2].source !== 'undefined') {
                ret.profile2.identity.links[idx_2].source = toArray(entity.profile2.identity.links[idx_2].source.__helper.getPrimaryKey(true));
              }
            }
          
          }
        });
      }

      if (typeof entity.profile2 !== 'undefined' && typeof entity.profile2.identity !== 'undefined') {
        if (entity.profile2.identity.source === null) {
          ret.profile2.identity.source = null;
        } else if (entity.profile2.identity.source?.__helper.__identifier && !entity.profile2.identity.source.__helper.hasPrimaryKey()) {
          ret.profile2.identity.source = entity.profile2.identity.source?.__helper.__identifier;
        } else if (typeof entity.profile2.identity.source !== 'undefined') {
          ret.profile2.identity.source = toArray(entity.profile2.identity.source.__helper.getPrimaryKey(true));
        }
      }
    
    }

    if (typeof entity.profile2 !== 'undefined') {
      if (entity.profile2.source === null) {
        ret.profile2.source = null;
      } else if (entity.profile2.source?.__helper.__identifier && !entity.profile2.source.__helper.hasPrimaryKey()) {
        ret.profile2.source = entity.profile2.source?.__helper.__identifier;
      } else if (typeof entity.profile2.source !== 'undefined') {
        ret.profile2.source = toArray(entity.profile2.source.__helper.getPrimaryKey(true));
      }
    }
  
    ret.profile2 = cloneEmbeddable(ret.profile2);
  }

  return ret;
}"
`;

exports[`embedded entities in postgres > diffing 2`] = `
"function(entity, data, factory, newEntity, convertCustomTypes, schema, parentSchema, normalizeAccessors) {
  if (data.id === null) {
    entity.id = null;
  } else if (typeof data.id !== 'undefined') {
    entity.id = data.id;
  }
  if (data.name === null) {
    entity.name = null;
  } else if (typeof data.name !== 'undefined') {
    entity.name = data.name;
  }
  if (data.profile1_username !== undefined || data.profile1_identity_email !== undefined || data.profile1_identity_meta_foo != null || data.profile1_identity_meta_bar != null || data.profile1_identity_meta_source != null || data.profile1_identity_links !== undefined || data.profile1_identity_source !== undefined || data.profile1_source !== undefined) {
    const embeddedData = {
      username: data.profile1_username,
      identity: data.profile1_identity,
      source: data.profile1_source,
    };
    if (entity.profile1 == null) {
      entity.profile1 = factory.createEmbeddable(profile_2, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
    }
    if (data.profile1_username === null) {
      entity.profile1.username = null;
    } else if (typeof data.profile1_username !== 'undefined') {
      entity.profile1.username = data.profile1_username;
    }
    if (data.profile1_identity_email !== undefined || data.profile1_identity_meta_foo != null || data.profile1_identity_meta_bar != null || data.profile1_identity_meta_source != null || data.profile1_identity_links !== undefined || data.profile1_identity_source !== undefined) {
      const embeddedData = {
        email: data.profile1_identity_email,
        meta: data.profile1_identity_meta,
        links: data.profile1_identity_links,
        source: data.profile1_identity_source,
      };
      if (entity.profile1.identity == null) {
        entity.profile1.identity = factory.createEmbeddable(identity_4, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
      }
      if (data.profile1_identity_email === null) {
        entity.profile1.identity.email = null;
      } else if (typeof data.profile1_identity_email !== 'undefined') {
        entity.profile1.identity.email = data.profile1_identity_email;
      }
      if (data.profile1_identity_meta_foo != null || data.profile1_identity_meta_bar != null || data.profile1_identity_meta_source != null) {
        const embeddedData = {
          foo: data.profile1_identity_meta_foo,
          bar: data.profile1_identity_meta_bar,
          source: data.profile1_identity_meta_source,
        };
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable(identity_meta_6, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
        }
        if (data.profile1_identity_meta_foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1_identity_meta_foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1_identity_meta_foo;
        }
        if (data.profile1_identity_meta_bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1_identity_meta_bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1_identity_meta_bar;
        }
        if (data.profile1_identity_meta_source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1_identity_meta_source !== 'undefined') {
          if (isPrimaryKey(data.profile1_identity_meta_source, true)) {
            entity.profile1.identity.meta.source = factory.createReference(source_9, data.profile1_identity_meta_source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
          } else if (data.profile1_identity_meta_source && typeof data.profile1_identity_meta_source === 'object') {
            entity.profile1.identity.meta.source = factory.create(source_10, data.profile1_identity_meta_source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
          }
        }
      } else if (data.profile1_identity_meta_foo === null && data.profile1_identity_meta_bar === null && data.profile1_identity_meta_source === null) {
        entity.profile1.identity.meta = null;
      }
      if (data.profile1_identity_meta != null) {
        const embeddedData = data.profile1_identity_meta;
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable(identity_meta_11, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
        }
        if (data.profile1_identity_meta.foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1_identity_meta.foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1_identity_meta.foo;
        }
        if (data.profile1_identity_meta.bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1_identity_meta.bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1_identity_meta.bar;
        }
        if (data.profile1_identity_meta.source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1_identity_meta.source !== 'undefined') {
          if (isPrimaryKey(data.profile1_identity_meta.source, true)) {
            entity.profile1.identity.meta.source = factory.createReference(source_14, data.profile1_identity_meta.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
          } else if (data.profile1_identity_meta.source && typeof data.profile1_identity_meta.source === 'object') {
            entity.profile1.identity.meta.source = factory.create(source_15, data.profile1_identity_meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
          }
        }
      } else if (data.profile1_identity_meta === null) {
        entity.profile1.identity.meta = null;
      }
      if (Array.isArray(data.profile1_identity_links)) {
        entity.profile1.identity.links = [];
        data.profile1_identity_links.forEach((_, idx_16) => {
          if (data.profile1_identity_links[idx_16] != null) {
            const embeddedData = data.profile1_identity_links[idx_16];
            if (entity.profile1.identity.links[idx_16] == null) {
              entity.profile1.identity.links[idx_16] = factory.createEmbeddable(identity_link_17, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
            }
            if (data.profile1_identity_links[idx_16].url === null) {
              entity.profile1.identity.links[idx_16].url = null;
            } else if (typeof data.profile1_identity_links[idx_16].url !== 'undefined') {
              entity.profile1.identity.links[idx_16].url = data.profile1_identity_links[idx_16].url;
            }
            if (data.profile1_identity_links[idx_16].createdAt === null) {
              entity.profile1.identity.links[idx_16].createdAt = null;
            } else if (typeof data.profile1_identity_links[idx_16].createdAt !== 'undefined') {
              if (data.profile1_identity_links[idx_16].createdAt instanceof Date) {
                entity.profile1.identity.links[idx_16].createdAt = data.profile1_identity_links[idx_16].createdAt;
              } else if (typeof data.profile1_identity_links[idx_16].createdAt === 'number' || data.profile1_identity_links[idx_16].createdAt.includes('+') || data.profile1_identity_links[idx_16].createdAt.lastIndexOf('-') > 10 || data.profile1_identity_links[idx_16].createdAt.endsWith('Z')) {
                entity.profile1.identity.links[idx_16].createdAt = new Date(data.profile1_identity_links[idx_16].createdAt);
              } else {
                entity.profile1.identity.links[idx_16].createdAt = new Date(data.profile1_identity_links[idx_16].createdAt + 'Z');
              }
            }
            if (data.profile1_identity_links[idx_16].meta != null) {
              const embeddedData = data.profile1_identity_links[idx_16].meta;
              if (entity.profile1.identity.links[idx_16].meta == null) {
                entity.profile1.identity.links[idx_16].meta = factory.createEmbeddable(identity_meta_20, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
              }
              if (data.profile1_identity_links[idx_16].meta.foo === null) {
                entity.profile1.identity.links[idx_16].meta.foo = null;
              } else if (typeof data.profile1_identity_links[idx_16].meta.foo !== 'undefined') {
                entity.profile1.identity.links[idx_16].meta.foo = data.profile1_identity_links[idx_16].meta.foo;
              }
              if (data.profile1_identity_links[idx_16].meta.bar === null) {
                entity.profile1.identity.links[idx_16].meta.bar = null;
              } else if (typeof data.profile1_identity_links[idx_16].meta.bar !== 'undefined') {
                entity.profile1.identity.links[idx_16].meta.bar = data.profile1_identity_links[idx_16].meta.bar;
              }
              if (data.profile1_identity_links[idx_16].meta.source === null) {
    entity.profile1.identity.links[idx_16].meta.source = null;
              } else if (typeof data.profile1_identity_links[idx_16].meta.source !== 'undefined') {
                if (isPrimaryKey(data.profile1_identity_links[idx_16].meta.source, true)) {
                  entity.profile1.identity.links[idx_16].meta.source = factory.createReference(source_23, data.profile1_identity_links[idx_16].meta.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
                } else if (data.profile1_identity_links[idx_16].meta.source && typeof data.profile1_identity_links[idx_16].meta.source === 'object') {
                  entity.profile1.identity.links[idx_16].meta.source = factory.create(source_24, data.profile1_identity_links[idx_16].meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
                }
              }
            } else if (data.profile1_identity_links[idx_16].meta === null) {
              entity.profile1.identity.links[idx_16].meta = null;
            }
            if (Array.isArray(data.profile1_identity_links[idx_16].metas)) {
              entity.profile1.identity.links[idx_16].metas = [];
              data.profile1_identity_links[idx_16].metas.forEach((_, idx_25) => {
                if (data.profile1_identity_links[idx_16].metas[idx_25] != null) {
                  const embeddedData = data.profile1_identity_links[idx_16].metas[idx_25];
                  if (entity.profile1.identity.links[idx_16].metas[idx_25] == null) {
                    entity.profile1.identity.links[idx_16].metas[idx_25] = factory.createEmbeddable(identity_meta_26, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
                  }
                  if (data.profile1_identity_links[idx_16].metas[idx_25].foo === null) {
                    entity.profile1.identity.links[idx_16].metas[idx_25].foo = null;
                  } else if (typeof data.profile1_identity_links[idx_16].metas[idx_25].foo !== 'undefined') {
                    entity.profile1.identity.links[idx_16].metas[idx_25].foo = data.profile1_identity_links[idx_16].metas[idx_25].foo;
                  }
                  if (data.profile1_identity_links[idx_16].metas[idx_25].bar === null) {
                    entity.profile1.identity.links[idx_16].metas[idx_25].bar = null;
                  } else if (typeof data.profile1_identity_links[idx_16].metas[idx_25].bar !== 'undefined') {
                    entity.profile1.identity.links[idx_16].metas[idx_25].bar = data.profile1_identity_links[idx_16].metas[idx_25].bar;
                  }
                  if (data.profile1_identity_links[idx_16].metas[idx_25].source === null) {
    entity.profile1.identity.links[idx_16].metas[idx_25].source = null;
                  } else if (typeof data.profile1_identity_links[idx_16].metas[idx_25].source !== 'undefined') {
                    if (isPrimaryKey(data.profile1_identity_links[idx_16].metas[idx_25].source, true)) {
                      entity.profile1.identity.links[idx_16].metas[idx_25].source = factory.createReference(source_29, data.profile1_identity_links[idx_16].metas[idx_25].source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
                    } else if (data.profile1_identity_links[idx_16].metas[idx_25].source && typeof data.profile1_identity_links[idx_16].metas[idx_25].source === 'object') {
                      entity.profile1.identity.links[idx_16].metas[idx_25].source = factory.create(source_30, data.profile1_identity_links[idx_16].metas[idx_25].source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
                    }
                  }
                } else if (data.profile1_identity_links[idx_16].metas[idx_25] === null) {
                  entity.profile1.identity.links[idx_16].metas[idx_25] = null;
                }
              });
            }
            if (data.profile1_identity_links[idx_16].source === null) {
    entity.profile1.identity.links[idx_16].source = null;
            } else if (typeof data.profile1_identity_links[idx_16].source !== 'undefined') {
              if (isPrimaryKey(data.profile1_identity_links[idx_16].source, true)) {
                entity.profile1.identity.links[idx_16].source = factory.createReference(source_31, data.profile1_identity_links[idx_16].source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
              } else if (data.profile1_identity_links[idx_16].source && typeof data.profile1_identity_links[idx_16].source === 'object') {
                entity.profile1.identity.links[idx_16].source = factory.create(source_32, data.profile1_identity_links[idx_16].source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
              }
            }
          } else if (data.profile1_identity_links[idx_16] === null) {
            entity.profile1.identity.links[idx_16] = null;
          }
        });
      }
      if (data.profile1_identity_source === null) {
    entity.profile1.identity.source = null;
      } else if (typeof data.profile1_identity_source !== 'undefined') {
        if (isPrimaryKey(data.profile1_identity_source, true)) {
          entity.profile1.identity.source = factory.createReference(source_33, data.profile1_identity_source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
        } else if (data.profile1_identity_source && typeof data.profile1_identity_source === 'object') {
          entity.profile1.identity.source = factory.create(source_34, data.profile1_identity_source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
        }
      }
    } else if (data.profile1_identity_email === null && data.profile1_identity_meta_foo === null && data.profile1_identity_meta_bar === null && data.profile1_identity_meta_source === null && data.profile1_identity_links === null && data.profile1_identity_source === null) {
      entity.profile1.identity = null;
    }
    if (data.profile1_identity != null) {
      const embeddedData = data.profile1_identity;
      if (entity.profile1.identity == null) {
        entity.profile1.identity = factory.createEmbeddable(identity_35, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
      }
      if (data.profile1_identity.email === null) {
        entity.profile1.identity.email = null;
      } else if (typeof data.profile1_identity.email !== 'undefined') {
        entity.profile1.identity.email = data.profile1_identity.email;
      }
      if (data.profile1_identity_meta_foo != null || data.profile1_identity_meta_bar != null || data.profile1_identity_meta_source != null) {
        const embeddedData = {
          foo: data.profile1_identity_meta_foo,
          bar: data.profile1_identity_meta_bar,
          source: data.profile1_identity_meta_source,
        };
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable(identity_meta_37, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
        }
        if (data.profile1_identity_meta_foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1_identity_meta_foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1_identity_meta_foo;
        }
        if (data.profile1_identity_meta_bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1_identity_meta_bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1_identity_meta_bar;
        }
        if (data.profile1_identity_meta_source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1_identity_meta_source !== 'undefined') {
          if (isPrimaryKey(data.profile1_identity_meta_source, true)) {
            entity.profile1.identity.meta.source = factory.createReference(source_40, data.profile1_identity_meta_source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
          } else if (data.profile1_identity_meta_source && typeof data.profile1_identity_meta_source === 'object') {
            entity.profile1.identity.meta.source = factory.create(source_41, data.profile1_identity_meta_source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
          }
        }
      } else if (data.profile1_identity_meta_foo === null && data.profile1_identity_meta_bar === null && data.profile1_identity_meta_source === null) {
        entity.profile1.identity.meta = null;
      }
      if (data.profile1_identity.meta != null) {
        const embeddedData = data.profile1_identity.meta;
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable(identity_meta_42, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
        }
        if (data.profile1_identity.meta.foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1_identity.meta.foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1_identity.meta.foo;
        }
        if (data.profile1_identity.meta.bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1_identity.meta.bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1_identity.meta.bar;
        }
        if (data.profile1_identity.meta.source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1_identity.meta.source !== 'undefined') {
          if (isPrimaryKey(data.profile1_identity.meta.source, true)) {
            entity.profile1.identity.meta.source = factory.createReference(source_45, data.profile1_identity.meta.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
          } else if (data.profile1_identity.meta.source && typeof data.profile1_identity.meta.source === 'object') {
            entity.profile1.identity.meta.source = factory.create(source_46, data.profile1_identity.meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
          }
        }
      } else if (data.profile1_identity.meta === null) {
        entity.profile1.identity.meta = null;
      }
      if (Array.isArray(data.profile1_identity.links)) {
        entity.profile1.identity.links = [];
        data.profile1_identity.links.forEach((_, idx_47) => {
          if (data.profile1_identity.links[idx_47] != null) {
            const embeddedData = data.profile1_identity.links[idx_47];
            if (entity.profile1.identity.links[idx_47] == null) {
              entity.profile1.identity.links[idx_47] = factory.createEmbeddable(identity_link_48, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
            }
            if (data.profile1_identity.links[idx_47].url === null) {
              entity.profile1.identity.links[idx_47].url = null;
            } else if (typeof data.profile1_identity.links[idx_47].url !== 'undefined') {
              entity.profile1.identity.links[idx_47].url = data.profile1_identity.links[idx_47].url;
            }
            if (data.profile1_identity.links[idx_47].createdAt === null) {
              entity.profile1.identity.links[idx_47].createdAt = null;
            } else if (typeof data.profile1_identity.links[idx_47].createdAt !== 'undefined') {
              if (data.profile1_identity.links[idx_47].createdAt instanceof Date) {
                entity.profile1.identity.links[idx_47].createdAt = data.profile1_identity.links[idx_47].createdAt;
              } else if (typeof data.profile1_identity.links[idx_47].createdAt === 'number' || data.profile1_identity.links[idx_47].createdAt.includes('+') || data.profile1_identity.links[idx_47].createdAt.lastIndexOf('-') > 10 || data.profile1_identity.links[idx_47].createdAt.endsWith('Z')) {
                entity.profile1.identity.links[idx_47].createdAt = new Date(data.profile1_identity.links[idx_47].createdAt);
              } else {
                entity.profile1.identity.links[idx_47].createdAt = new Date(data.profile1_identity.links[idx_47].createdAt + 'Z');
              }
            }
            if (data.profile1_identity.links[idx_47].meta != null) {
              const embeddedData = data.profile1_identity.links[idx_47].meta;
              if (entity.profile1.identity.links[idx_47].meta == null) {
                entity.profile1.identity.links[idx_47].meta = factory.createEmbeddable(identity_meta_51, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
              }
              if (data.profile1_identity.links[idx_47].meta.foo === null) {
                entity.profile1.identity.links[idx_47].meta.foo = null;
              } else if (typeof data.profile1_identity.links[idx_47].meta.foo !== 'undefined') {
                entity.profile1.identity.links[idx_47].meta.foo = data.profile1_identity.links[idx_47].meta.foo;
              }
              if (data.profile1_identity.links[idx_47].meta.bar === null) {
                entity.profile1.identity.links[idx_47].meta.bar = null;
              } else if (typeof data.profile1_identity.links[idx_47].meta.bar !== 'undefined') {
                entity.profile1.identity.links[idx_47].meta.bar = data.profile1_identity.links[idx_47].meta.bar;
              }
              if (data.profile1_identity.links[idx_47].meta.source === null) {
    entity.profile1.identity.links[idx_47].meta.source = null;
              } else if (typeof data.profile1_identity.links[idx_47].meta.source !== 'undefined') {
                if (isPrimaryKey(data.profile1_identity.links[idx_47].meta.source, true)) {
                  entity.profile1.identity.links[idx_47].meta.source = factory.createReference(source_54, data.profile1_identity.links[idx_47].meta.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
                } else if (data.profile1_identity.links[idx_47].meta.source && typeof data.profile1_identity.links[idx_47].meta.source === 'object') {
                  entity.profile1.identity.links[idx_47].meta.source = factory.create(source_55, data.profile1_identity.links[idx_47].meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
                }
              }
            } else if (data.profile1_identity.links[idx_47].meta === null) {
              entity.profile1.identity.links[idx_47].meta = null;
            }
            if (Array.isArray(data.profile1_identity.links[idx_47].metas)) {
              entity.profile1.identity.links[idx_47].metas = [];
              data.profile1_identity.links[idx_47].metas.forEach((_, idx_56) => {
                if (data.profile1_identity.links[idx_47].metas[idx_56] != null) {
                  const embeddedData = data.profile1_identity.links[idx_47].metas[idx_56];
                  if (entity.profile1.identity.links[idx_47].metas[idx_56] == null) {
                    entity.profile1.identity.links[idx_47].metas[idx_56] = factory.createEmbeddable(identity_meta_57, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
                  }
                  if (data.profile1_identity.links[idx_47].metas[idx_56].foo === null) {
                    entity.profile1.identity.links[idx_47].metas[idx_56].foo = null;
                  } else if (typeof data.profile1_identity.links[idx_47].metas[idx_56].foo !== 'undefined') {
                    entity.profile1.identity.links[idx_47].metas[idx_56].foo = data.profile1_identity.links[idx_47].metas[idx_56].foo;
                  }
                  if (data.profile1_identity.links[idx_47].metas[idx_56].bar === null) {
                    entity.profile1.identity.links[idx_47].metas[idx_56].bar = null;
                  } else if (typeof data.profile1_identity.links[idx_47].metas[idx_56].bar !== 'undefined') {
                    entity.profile1.identity.links[idx_47].metas[idx_56].bar = data.profile1_identity.links[idx_47].metas[idx_56].bar;
                  }
                  if (data.profile1_identity.links[idx_47].metas[idx_56].source === null) {
    entity.profile1.identity.links[idx_47].metas[idx_56].source = null;
                  } else if (typeof data.profile1_identity.links[idx_47].metas[idx_56].source !== 'undefined') {
                    if (isPrimaryKey(data.profile1_identity.links[idx_47].metas[idx_56].source, true)) {
                      entity.profile1.identity.links[idx_47].metas[idx_56].source = factory.createReference(source_60, data.profile1_identity.links[idx_47].metas[idx_56].source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
                    } else if (data.profile1_identity.links[idx_47].metas[idx_56].source && typeof data.profile1_identity.links[idx_47].metas[idx_56].source === 'object') {
                      entity.profile1.identity.links[idx_47].metas[idx_56].source = factory.create(source_61, data.profile1_identity.links[idx_47].metas[idx_56].source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
                    }
                  }
                } else if (data.profile1_identity.links[idx_47].metas[idx_56] === null) {
                  entity.profile1.identity.links[idx_47].metas[idx_56] = null;
                }
              });
            }
            if (data.profile1_identity.links[idx_47].source === null) {
    entity.profile1.identity.links[idx_47].source = null;
            } else if (typeof data.profile1_identity.links[idx_47].source !== 'undefined') {
              if (isPrimaryKey(data.profile1_identity.links[idx_47].source, true)) {
                entity.profile1.identity.links[idx_47].source = factory.createReference(source_62, data.profile1_identity.links[idx_47].source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
              } else if (data.profile1_identity.links[idx_47].source && typeof data.profile1_identity.links[idx_47].source === 'object') {
                entity.profile1.identity.links[idx_47].source = factory.create(source_63, data.profile1_identity.links[idx_47].source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
              }
            }
          } else if (data.profile1_identity.links[idx_47] === null) {
            entity.profile1.identity.links[idx_47] = null;
          }
        });
      }
      if (data.profile1_identity.source === null) {
    entity.profile1.identity.source = null;
      } else if (typeof data.profile1_identity.source !== 'undefined') {
        if (isPrimaryKey(data.profile1_identity.source, true)) {
          entity.profile1.identity.source = factory.createReference(source_64, data.profile1_identity.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
        } else if (data.profile1_identity.source && typeof data.profile1_identity.source === 'object') {
          entity.profile1.identity.source = factory.create(source_65, data.profile1_identity.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
        }
      }
    } else if (data.profile1_identity === null) {
      entity.profile1.identity = null;
    }
    if (data.profile1_source === null) {
    entity.profile1.source = null;
    } else if (typeof data.profile1_source !== 'undefined') {
      if (isPrimaryKey(data.profile1_source, true)) {
        entity.profile1.source = factory.createReference(source_66, data.profile1_source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
      } else if (data.profile1_source && typeof data.profile1_source === 'object') {
        entity.profile1.source = factory.create(source_67, data.profile1_source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
      }
    }
  } else if (data.profile1_username === null && data.profile1_identity_email === null && data.profile1_identity_meta_foo === null && data.profile1_identity_meta_bar === null && data.profile1_identity_meta_source === null && data.profile1_identity_links === null && data.profile1_identity_source === null && data.profile1_source === null) {
    entity.profile1 = null;
  }
  if (data.profile1 != null) {
    const embeddedData = data.profile1;
    if (entity.profile1 == null) {
      entity.profile1 = factory.createEmbeddable(profile_68, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
    }
    if (data.profile1.username === null) {
      entity.profile1.username = null;
    } else if (typeof data.profile1.username !== 'undefined') {
      entity.profile1.username = data.profile1.username;
    }
    if (data.profile1_identity_email !== undefined || data.profile1_identity_meta_foo != null || data.profile1_identity_meta_bar != null || data.profile1_identity_meta_source != null || data.profile1_identity_links !== undefined || data.profile1_identity_source !== undefined) {
      const embeddedData = {
        email: data.profile1_identity_email,
        meta: data.profile1_identity_meta,
        links: data.profile1_identity_links,
        source: data.profile1_identity_source,
      };
      if (entity.profile1.identity == null) {
        entity.profile1.identity = factory.createEmbeddable(identity_70, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
      }
      if (data.profile1_identity_email === null) {
        entity.profile1.identity.email = null;
      } else if (typeof data.profile1_identity_email !== 'undefined') {
        entity.profile1.identity.email = data.profile1_identity_email;
      }
      if (data.profile1_identity_meta_foo != null || data.profile1_identity_meta_bar != null || data.profile1_identity_meta_source != null) {
        const embeddedData = {
          foo: data.profile1_identity_meta_foo,
          bar: data.profile1_identity_meta_bar,
          source: data.profile1_identity_meta_source,
        };
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable(identity_meta_72, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
        }
        if (data.profile1_identity_meta_foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1_identity_meta_foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1_identity_meta_foo;
        }
        if (data.profile1_identity_meta_bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1_identity_meta_bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1_identity_meta_bar;
        }
        if (data.profile1_identity_meta_source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1_identity_meta_source !== 'undefined') {
          if (isPrimaryKey(data.profile1_identity_meta_source, true)) {
            entity.profile1.identity.meta.source = factory.createReference(source_75, data.profile1_identity_meta_source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
          } else if (data.profile1_identity_meta_source && typeof data.profile1_identity_meta_source === 'object') {
            entity.profile1.identity.meta.source = factory.create(source_76, data.profile1_identity_meta_source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
          }
        }
      } else if (data.profile1_identity_meta_foo === null && data.profile1_identity_meta_bar === null && data.profile1_identity_meta_source === null) {
        entity.profile1.identity.meta = null;
      }
      if (data.profile1_identity_meta != null) {
        const embeddedData = data.profile1_identity_meta;
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable(identity_meta_77, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
        }
        if (data.profile1_identity_meta.foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1_identity_meta.foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1_identity_meta.foo;
        }
        if (data.profile1_identity_meta.bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1_identity_meta.bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1_identity_meta.bar;
        }
        if (data.profile1_identity_meta.source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1_identity_meta.source !== 'undefined') {
          if (isPrimaryKey(data.profile1_identity_meta.source, true)) {
            entity.profile1.identity.meta.source = factory.createReference(source_80, data.profile1_identity_meta.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
          } else if (data.profile1_identity_meta.source && typeof data.profile1_identity_meta.source === 'object') {
            entity.profile1.identity.meta.source = factory.create(source_81, data.profile1_identity_meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
          }
        }
      } else if (data.profile1_identity_meta === null) {
        entity.profile1.identity.meta = null;
      }
      if (Array.isArray(data.profile1_identity_links)) {
        entity.profile1.identity.links = [];
        data.profile1_identity_links.forEach((_, idx_82) => {
          if (data.profile1_identity_links[idx_82] != null) {
            const embeddedData = data.profile1_identity_links[idx_82];
            if (entity.profile1.identity.links[idx_82] == null) {
              entity.profile1.identity.links[idx_82] = factory.createEmbeddable(identity_link_83, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
            }
            if (data.profile1_identity_links[idx_82].url === null) {
              entity.profile1.identity.links[idx_82].url = null;
            } else if (typeof data.profile1_identity_links[idx_82].url !== 'undefined') {
              entity.profile1.identity.links[idx_82].url = data.profile1_identity_links[idx_82].url;
            }
            if (data.profile1_identity_links[idx_82].createdAt === null) {
              entity.profile1.identity.links[idx_82].createdAt = null;
            } else if (typeof data.profile1_identity_links[idx_82].createdAt !== 'undefined') {
              if (data.profile1_identity_links[idx_82].createdAt instanceof Date) {
                entity.profile1.identity.links[idx_82].createdAt = data.profile1_identity_links[idx_82].createdAt;
              } else if (typeof data.profile1_identity_links[idx_82].createdAt === 'number' || data.profile1_identity_links[idx_82].createdAt.includes('+') || data.profile1_identity_links[idx_82].createdAt.lastIndexOf('-') > 10 || data.profile1_identity_links[idx_82].createdAt.endsWith('Z')) {
                entity.profile1.identity.links[idx_82].createdAt = new Date(data.profile1_identity_links[idx_82].createdAt);
              } else {
                entity.profile1.identity.links[idx_82].createdAt = new Date(data.profile1_identity_links[idx_82].createdAt + 'Z');
              }
            }
            if (data.profile1_identity_links[idx_82].meta != null) {
              const embeddedData = data.profile1_identity_links[idx_82].meta;
              if (entity.profile1.identity.links[idx_82].meta == null) {
                entity.profile1.identity.links[idx_82].meta = factory.createEmbeddable(identity_meta_86, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
              }
              if (data.profile1_identity_links[idx_82].meta.foo === null) {
                entity.profile1.identity.links[idx_82].meta.foo = null;
              } else if (typeof data.profile1_identity_links[idx_82].meta.foo !== 'undefined') {
                entity.profile1.identity.links[idx_82].meta.foo = data.profile1_identity_links[idx_82].meta.foo;
              }
              if (data.profile1_identity_links[idx_82].meta.bar === null) {
                entity.profile1.identity.links[idx_82].meta.bar = null;
              } else if (typeof data.profile1_identity_links[idx_82].meta.bar !== 'undefined') {
                entity.profile1.identity.links[idx_82].meta.bar = data.profile1_identity_links[idx_82].meta.bar;
              }
              if (data.profile1_identity_links[idx_82].meta.source === null) {
    entity.profile1.identity.links[idx_82].meta.source = null;
              } else if (typeof data.profile1_identity_links[idx_82].meta.source !== 'undefined') {
                if (isPrimaryKey(data.profile1_identity_links[idx_82].meta.source, true)) {
                  entity.profile1.identity.links[idx_82].meta.source = factory.createReference(source_89, data.profile1_identity_links[idx_82].meta.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
                } else if (data.profile1_identity_links[idx_82].meta.source && typeof data.profile1_identity_links[idx_82].meta.source === 'object') {
                  entity.profile1.identity.links[idx_82].meta.source = factory.create(source_90, data.profile1_identity_links[idx_82].meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
                }
              }
            } else if (data.profile1_identity_links[idx_82].meta === null) {
              entity.profile1.identity.links[idx_82].meta = null;
            }
            if (Array.isArray(data.profile1_identity_links[idx_82].metas)) {
              entity.profile1.identity.links[idx_82].metas = [];
              data.profile1_identity_links[idx_82].metas.forEach((_, idx_91) => {
                if (data.profile1_identity_links[idx_82].metas[idx_91] != null) {
                  const embeddedData = data.profile1_identity_links[idx_82].metas[idx_91];
                  if (entity.profile1.identity.links[idx_82].metas[idx_91] == null) {
                    entity.profile1.identity.links[idx_82].metas[idx_91] = factory.createEmbeddable(identity_meta_92, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
                  }
                  if (data.profile1_identity_links[idx_82].metas[idx_91].foo === null) {
                    entity.profile1.identity.links[idx_82].metas[idx_91].foo = null;
                  } else if (typeof data.profile1_identity_links[idx_82].metas[idx_91].foo !== 'undefined') {
                    entity.profile1.identity.links[idx_82].metas[idx_91].foo = data.profile1_identity_links[idx_82].metas[idx_91].foo;
                  }
                  if (data.profile1_identity_links[idx_82].metas[idx_91].bar === null) {
                    entity.profile1.identity.links[idx_82].metas[idx_91].bar = null;
                  } else if (typeof data.profile1_identity_links[idx_82].metas[idx_91].bar !== 'undefined') {
                    entity.profile1.identity.links[idx_82].metas[idx_91].bar = data.profile1_identity_links[idx_82].metas[idx_91].bar;
                  }
                  if (data.profile1_identity_links[idx_82].metas[idx_91].source === null) {
    entity.profile1.identity.links[idx_82].metas[idx_91].source = null;
                  } else if (typeof data.profile1_identity_links[idx_82].metas[idx_91].source !== 'undefined') {
                    if (isPrimaryKey(data.profile1_identity_links[idx_82].metas[idx_91].source, true)) {
                      entity.profile1.identity.links[idx_82].metas[idx_91].source = factory.createReference(source_95, data.profile1_identity_links[idx_82].metas[idx_91].source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
                    } else if (data.profile1_identity_links[idx_82].metas[idx_91].source && typeof data.profile1_identity_links[idx_82].metas[idx_91].source === 'object') {
                      entity.profile1.identity.links[idx_82].metas[idx_91].source = factory.create(source_96, data.profile1_identity_links[idx_82].metas[idx_91].source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
                    }
                  }
                } else if (data.profile1_identity_links[idx_82].metas[idx_91] === null) {
                  entity.profile1.identity.links[idx_82].metas[idx_91] = null;
                }
              });
            }
            if (data.profile1_identity_links[idx_82].source === null) {
    entity.profile1.identity.links[idx_82].source = null;
            } else if (typeof data.profile1_identity_links[idx_82].source !== 'undefined') {
              if (isPrimaryKey(data.profile1_identity_links[idx_82].source, true)) {
                entity.profile1.identity.links[idx_82].source = factory.createReference(source_97, data.profile1_identity_links[idx_82].source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
              } else if (data.profile1_identity_links[idx_82].source && typeof data.profile1_identity_links[idx_82].source === 'object') {
                entity.profile1.identity.links[idx_82].source = factory.create(source_98, data.profile1_identity_links[idx_82].source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
              }
            }
          } else if (data.profile1_identity_links[idx_82] === null) {
            entity.profile1.identity.links[idx_82] = null;
          }
        });
      }
      if (data.profile1_identity_source === null) {
    entity.profile1.identity.source = null;
      } else if (typeof data.profile1_identity_source !== 'undefined') {
        if (isPrimaryKey(data.profile1_identity_source, true)) {
          entity.profile1.identity.source = factory.createReference(source_99, data.profile1_identity_source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
        } else if (data.profile1_identity_source && typeof data.profile1_identity_source === 'object') {
          entity.profile1.identity.source = factory.create(source_100, data.profile1_identity_source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
        }
      }
    } else if (data.profile1_identity_email === null && data.profile1_identity_meta_foo === null && data.profile1_identity_meta_bar === null && data.profile1_identity_meta_source === null && data.profile1_identity_links === null && data.profile1_identity_source === null) {
      entity.profile1.identity = null;
    }
    if (data.profile1.identity != null) {
      const embeddedData = data.profile1.identity;
      if (entity.profile1.identity == null) {
        entity.profile1.identity = factory.createEmbeddable(identity_101, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
      }
      if (data.profile1.identity.email === null) {
        entity.profile1.identity.email = null;
      } else if (typeof data.profile1.identity.email !== 'undefined') {
        entity.profile1.identity.email = data.profile1.identity.email;
      }
      if (data.profile1_identity_meta_foo != null || data.profile1_identity_meta_bar != null || data.profile1_identity_meta_source != null) {
        const embeddedData = {
          foo: data.profile1_identity_meta_foo,
          bar: data.profile1_identity_meta_bar,
          source: data.profile1_identity_meta_source,
        };
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable(identity_meta_103, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
        }
        if (data.profile1_identity_meta_foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1_identity_meta_foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1_identity_meta_foo;
        }
        if (data.profile1_identity_meta_bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1_identity_meta_bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1_identity_meta_bar;
        }
        if (data.profile1_identity_meta_source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1_identity_meta_source !== 'undefined') {
          if (isPrimaryKey(data.profile1_identity_meta_source, true)) {
            entity.profile1.identity.meta.source = factory.createReference(source_106, data.profile1_identity_meta_source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
          } else if (data.profile1_identity_meta_source && typeof data.profile1_identity_meta_source === 'object') {
            entity.profile1.identity.meta.source = factory.create(source_107, data.profile1_identity_meta_source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
          }
        }
      } else if (data.profile1_identity_meta_foo === null && data.profile1_identity_meta_bar === null && data.profile1_identity_meta_source === null) {
        entity.profile1.identity.meta = null;
      }
      if (data.profile1.identity.meta != null) {
        const embeddedData = data.profile1.identity.meta;
        if (entity.profile1.identity.meta == null) {
          entity.profile1.identity.meta = factory.createEmbeddable(identity_meta_108, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
        }
        if (data.profile1.identity.meta.foo === null) {
          entity.profile1.identity.meta.foo = null;
        } else if (typeof data.profile1.identity.meta.foo !== 'undefined') {
          entity.profile1.identity.meta.foo = data.profile1.identity.meta.foo;
        }
        if (data.profile1.identity.meta.bar === null) {
          entity.profile1.identity.meta.bar = null;
        } else if (typeof data.profile1.identity.meta.bar !== 'undefined') {
          entity.profile1.identity.meta.bar = data.profile1.identity.meta.bar;
        }
        if (data.profile1.identity.meta.source === null) {
    entity.profile1.identity.meta.source = null;
        } else if (typeof data.profile1.identity.meta.source !== 'undefined') {
          if (isPrimaryKey(data.profile1.identity.meta.source, true)) {
            entity.profile1.identity.meta.source = factory.createReference(source_111, data.profile1.identity.meta.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
          } else if (data.profile1.identity.meta.source && typeof data.profile1.identity.meta.source === 'object') {
            entity.profile1.identity.meta.source = factory.create(source_112, data.profile1.identity.meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
          }
        }
      } else if (data.profile1.identity.meta === null) {
        entity.profile1.identity.meta = null;
      }
      if (Array.isArray(data.profile1.identity.links)) {
        entity.profile1.identity.links = [];
        data.profile1.identity.links.forEach((_, idx_113) => {
          if (data.profile1.identity.links[idx_113] != null) {
            const embeddedData = data.profile1.identity.links[idx_113];
            if (entity.profile1.identity.links[idx_113] == null) {
              entity.profile1.identity.links[idx_113] = factory.createEmbeddable(identity_link_114, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
            }
            if (data.profile1.identity.links[idx_113].url === null) {
              entity.profile1.identity.links[idx_113].url = null;
            } else if (typeof data.profile1.identity.links[idx_113].url !== 'undefined') {
              entity.profile1.identity.links[idx_113].url = data.profile1.identity.links[idx_113].url;
            }
            if (data.profile1.identity.links[idx_113].createdAt === null) {
              entity.profile1.identity.links[idx_113].createdAt = null;
            } else if (typeof data.profile1.identity.links[idx_113].createdAt !== 'undefined') {
              if (data.profile1.identity.links[idx_113].createdAt instanceof Date) {
                entity.profile1.identity.links[idx_113].createdAt = data.profile1.identity.links[idx_113].createdAt;
              } else if (typeof data.profile1.identity.links[idx_113].createdAt === 'number' || data.profile1.identity.links[idx_113].createdAt.includes('+') || data.profile1.identity.links[idx_113].createdAt.lastIndexOf('-') > 10 || data.profile1.identity.links[idx_113].createdAt.endsWith('Z')) {
                entity.profile1.identity.links[idx_113].createdAt = new Date(data.profile1.identity.links[idx_113].createdAt);
              } else {
                entity.profile1.identity.links[idx_113].createdAt = new Date(data.profile1.identity.links[idx_113].createdAt + 'Z');
              }
            }
            if (data.profile1.identity.links[idx_113].meta != null) {
              const embeddedData = data.profile1.identity.links[idx_113].meta;
              if (entity.profile1.identity.links[idx_113].meta == null) {
                entity.profile1.identity.links[idx_113].meta = factory.createEmbeddable(identity_meta_117, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
              }
              if (data.profile1.identity.links[idx_113].meta.foo === null) {
                entity.profile1.identity.links[idx_113].meta.foo = null;
              } else if (typeof data.profile1.identity.links[idx_113].meta.foo !== 'undefined') {
                entity.profile1.identity.links[idx_113].meta.foo = data.profile1.identity.links[idx_113].meta.foo;
              }
              if (data.profile1.identity.links[idx_113].meta.bar === null) {
                entity.profile1.identity.links[idx_113].meta.bar = null;
              } else if (typeof data.profile1.identity.links[idx_113].meta.bar !== 'undefined') {
                entity.profile1.identity.links[idx_113].meta.bar = data.profile1.identity.links[idx_113].meta.bar;
              }
              if (data.profile1.identity.links[idx_113].meta.source === null) {
    entity.profile1.identity.links[idx_113].meta.source = null;
              } else if (typeof data.profile1.identity.links[idx_113].meta.source !== 'undefined') {
                if (isPrimaryKey(data.profile1.identity.links[idx_113].meta.source, true)) {
                  entity.profile1.identity.links[idx_113].meta.source = factory.createReference(source_120, data.profile1.identity.links[idx_113].meta.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
                } else if (data.profile1.identity.links[idx_113].meta.source && typeof data.profile1.identity.links[idx_113].meta.source === 'object') {
                  entity.profile1.identity.links[idx_113].meta.source = factory.create(source_121, data.profile1.identity.links[idx_113].meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
                }
              }
            } else if (data.profile1.identity.links[idx_113].meta === null) {
              entity.profile1.identity.links[idx_113].meta = null;
            }
            if (Array.isArray(data.profile1.identity.links[idx_113].metas)) {
              entity.profile1.identity.links[idx_113].metas = [];
              data.profile1.identity.links[idx_113].metas.forEach((_, idx_122) => {
                if (data.profile1.identity.links[idx_113].metas[idx_122] != null) {
                  const embeddedData = data.profile1.identity.links[idx_113].metas[idx_122];
                  if (entity.profile1.identity.links[idx_113].metas[idx_122] == null) {
                    entity.profile1.identity.links[idx_113].metas[idx_122] = factory.createEmbeddable(identity_meta_123, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
                  }
                  if (data.profile1.identity.links[idx_113].metas[idx_122].foo === null) {
                    entity.profile1.identity.links[idx_113].metas[idx_122].foo = null;
                  } else if (typeof data.profile1.identity.links[idx_113].metas[idx_122].foo !== 'undefined') {
                    entity.profile1.identity.links[idx_113].metas[idx_122].foo = data.profile1.identity.links[idx_113].metas[idx_122].foo;
                  }
                  if (data.profile1.identity.links[idx_113].metas[idx_122].bar === null) {
                    entity.profile1.identity.links[idx_113].metas[idx_122].bar = null;
                  } else if (typeof data.profile1.identity.links[idx_113].metas[idx_122].bar !== 'undefined') {
                    entity.profile1.identity.links[idx_113].metas[idx_122].bar = data.profile1.identity.links[idx_113].metas[idx_122].bar;
                  }
                  if (data.profile1.identity.links[idx_113].metas[idx_122].source === null) {
    entity.profile1.identity.links[idx_113].metas[idx_122].source = null;
                  } else if (typeof data.profile1.identity.links[idx_113].metas[idx_122].source !== 'undefined') {
                    if (isPrimaryKey(data.profile1.identity.links[idx_113].metas[idx_122].source, true)) {
                      entity.profile1.identity.links[idx_113].metas[idx_122].source = factory.createReference(source_126, data.profile1.identity.links[idx_113].metas[idx_122].source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
                    } else if (data.profile1.identity.links[idx_113].metas[idx_122].source && typeof data.profile1.identity.links[idx_113].metas[idx_122].source === 'object') {
                      entity.profile1.identity.links[idx_113].metas[idx_122].source = factory.create(source_127, data.profile1.identity.links[idx_113].metas[idx_122].source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
                    }
                  }
                } else if (data.profile1.identity.links[idx_113].metas[idx_122] === null) {
                  entity.profile1.identity.links[idx_113].metas[idx_122] = null;
                }
              });
            }
            if (data.profile1.identity.links[idx_113].source === null) {
    entity.profile1.identity.links[idx_113].source = null;
            } else if (typeof data.profile1.identity.links[idx_113].source !== 'undefined') {
              if (isPrimaryKey(data.profile1.identity.links[idx_113].source, true)) {
                entity.profile1.identity.links[idx_113].source = factory.createReference(source_128, data.profile1.identity.links[idx_113].source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
              } else if (data.profile1.identity.links[idx_113].source && typeof data.profile1.identity.links[idx_113].source === 'object') {
                entity.profile1.identity.links[idx_113].source = factory.create(source_129, data.profile1.identity.links[idx_113].source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
              }
            }
          } else if (data.profile1.identity.links[idx_113] === null) {
            entity.profile1.identity.links[idx_113] = null;
          }
        });
      }
      if (data.profile1.identity.source === null) {
    entity.profile1.identity.source = null;
      } else if (typeof data.profile1.identity.source !== 'undefined') {
        if (isPrimaryKey(data.profile1.identity.source, true)) {
          entity.profile1.identity.source = factory.createReference(source_130, data.profile1.identity.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
        } else if (data.profile1.identity.source && typeof data.profile1.identity.source === 'object') {
          entity.profile1.identity.source = factory.create(source_131, data.profile1.identity.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
        }
      }
    } else if (data.profile1.identity === null) {
      entity.profile1.identity = null;
    }
    if (data.profile1.source === null) {
    entity.profile1.source = null;
    } else if (typeof data.profile1.source !== 'undefined') {
      if (isPrimaryKey(data.profile1.source, true)) {
        entity.profile1.source = factory.createReference(source_132, data.profile1.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
      } else if (data.profile1.source && typeof data.profile1.source === 'object') {
        entity.profile1.source = factory.create(source_133, data.profile1.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
      }
    }
  } else if (data.profile1 === null) {
    entity.profile1 = null;
  }
  if (data.profile2 != null) {
    const embeddedData = data.profile2;
    if (entity.profile2 == null) {
      entity.profile2 = factory.createEmbeddable(profile_134, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
    }
    if (data.profile2.username === null) {
      entity.profile2.username = null;
    } else if (typeof data.profile2.username !== 'undefined') {
      entity.profile2.username = data.profile2.username;
    }
    if (data.profile2.identity != null) {
      const embeddedData = data.profile2.identity;
      if (entity.profile2.identity == null) {
        entity.profile2.identity = factory.createEmbeddable(identity_136, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
      }
      if (data.profile2.identity.email === null) {
        entity.profile2.identity.email = null;
      } else if (typeof data.profile2.identity.email !== 'undefined') {
        entity.profile2.identity.email = data.profile2.identity.email;
      }
      if (data.profile2.identity.meta != null) {
        const embeddedData = data.profile2.identity.meta;
        if (entity.profile2.identity.meta == null) {
          entity.profile2.identity.meta = factory.createEmbeddable(identity_meta_138, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
        }
        if (data.profile2.identity.meta.foo === null) {
          entity.profile2.identity.meta.foo = null;
        } else if (typeof data.profile2.identity.meta.foo !== 'undefined') {
          entity.profile2.identity.meta.foo = data.profile2.identity.meta.foo;
        }
        if (data.profile2.identity.meta.bar === null) {
          entity.profile2.identity.meta.bar = null;
        } else if (typeof data.profile2.identity.meta.bar !== 'undefined') {
          entity.profile2.identity.meta.bar = data.profile2.identity.meta.bar;
        }
        if (data.profile2.identity.meta.source === null) {
    entity.profile2.identity.meta.source = null;
        } else if (typeof data.profile2.identity.meta.source !== 'undefined') {
          if (isPrimaryKey(data.profile2.identity.meta.source, true)) {
            entity.profile2.identity.meta.source = factory.createReference(source_141, data.profile2.identity.meta.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
          } else if (data.profile2.identity.meta.source && typeof data.profile2.identity.meta.source === 'object') {
            entity.profile2.identity.meta.source = factory.create(source_142, data.profile2.identity.meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
          }
        }
      } else if (data.profile2.identity.meta === null) {
        entity.profile2.identity.meta = null;
      }
      if (Array.isArray(data.profile2.identity.links)) {
        entity.profile2.identity.links = [];
        data.profile2.identity.links.forEach((_, idx_143) => {
          if (data.profile2.identity.links[idx_143] != null) {
            const embeddedData = data.profile2.identity.links[idx_143];
            if (entity.profile2.identity.links[idx_143] == null) {
              entity.profile2.identity.links[idx_143] = factory.createEmbeddable(identity_link_144, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
            }
            if (data.profile2.identity.links[idx_143].url === null) {
              entity.profile2.identity.links[idx_143].url = null;
            } else if (typeof data.profile2.identity.links[idx_143].url !== 'undefined') {
              entity.profile2.identity.links[idx_143].url = data.profile2.identity.links[idx_143].url;
            }
            if (data.profile2.identity.links[idx_143].createdAt === null) {
              entity.profile2.identity.links[idx_143].createdAt = null;
            } else if (typeof data.profile2.identity.links[idx_143].createdAt !== 'undefined') {
              if (data.profile2.identity.links[idx_143].createdAt instanceof Date) {
                entity.profile2.identity.links[idx_143].createdAt = data.profile2.identity.links[idx_143].createdAt;
              } else if (typeof data.profile2.identity.links[idx_143].createdAt === 'number' || data.profile2.identity.links[idx_143].createdAt.includes('+') || data.profile2.identity.links[idx_143].createdAt.lastIndexOf('-') > 10 || data.profile2.identity.links[idx_143].createdAt.endsWith('Z')) {
                entity.profile2.identity.links[idx_143].createdAt = new Date(data.profile2.identity.links[idx_143].createdAt);
              } else {
                entity.profile2.identity.links[idx_143].createdAt = new Date(data.profile2.identity.links[idx_143].createdAt + 'Z');
              }
            }
            if (data.profile2.identity.links[idx_143].meta != null) {
              const embeddedData = data.profile2.identity.links[idx_143].meta;
              if (entity.profile2.identity.links[idx_143].meta == null) {
                entity.profile2.identity.links[idx_143].meta = factory.createEmbeddable(identity_meta_147, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
              }
              if (data.profile2.identity.links[idx_143].meta.foo === null) {
                entity.profile2.identity.links[idx_143].meta.foo = null;
              } else if (typeof data.profile2.identity.links[idx_143].meta.foo !== 'undefined') {
                entity.profile2.identity.links[idx_143].meta.foo = data.profile2.identity.links[idx_143].meta.foo;
              }
              if (data.profile2.identity.links[idx_143].meta.bar === null) {
                entity.profile2.identity.links[idx_143].meta.bar = null;
              } else if (typeof data.profile2.identity.links[idx_143].meta.bar !== 'undefined') {
                entity.profile2.identity.links[idx_143].meta.bar = data.profile2.identity.links[idx_143].meta.bar;
              }
              if (data.profile2.identity.links[idx_143].meta.source === null) {
    entity.profile2.identity.links[idx_143].meta.source = null;
              } else if (typeof data.profile2.identity.links[idx_143].meta.source !== 'undefined') {
                if (isPrimaryKey(data.profile2.identity.links[idx_143].meta.source, true)) {
                  entity.profile2.identity.links[idx_143].meta.source = factory.createReference(source_150, data.profile2.identity.links[idx_143].meta.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
                } else if (data.profile2.identity.links[idx_143].meta.source && typeof data.profile2.identity.links[idx_143].meta.source === 'object') {
                  entity.profile2.identity.links[idx_143].meta.source = factory.create(source_151, data.profile2.identity.links[idx_143].meta.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
                }
              }
            } else if (data.profile2.identity.links[idx_143].meta === null) {
              entity.profile2.identity.links[idx_143].meta = null;
            }
            if (Array.isArray(data.profile2.identity.links[idx_143].metas)) {
              entity.profile2.identity.links[idx_143].metas = [];
              data.profile2.identity.links[idx_143].metas.forEach((_, idx_152) => {
                if (data.profile2.identity.links[idx_143].metas[idx_152] != null) {
                  const embeddedData = data.profile2.identity.links[idx_143].metas[idx_152];
                  if (entity.profile2.identity.links[idx_143].metas[idx_152] == null) {
                    entity.profile2.identity.links[idx_143].metas[idx_152] = factory.createEmbeddable(identity_meta_153, embeddedData, { newEntity, convertCustomTypes, normalizeAccessors });
                  }
                  if (data.profile2.identity.links[idx_143].metas[idx_152].foo === null) {
                    entity.profile2.identity.links[idx_143].metas[idx_152].foo = null;
                  } else if (typeof data.profile2.identity.links[idx_143].metas[idx_152].foo !== 'undefined') {
                    entity.profile2.identity.links[idx_143].metas[idx_152].foo = data.profile2.identity.links[idx_143].metas[idx_152].foo;
                  }
                  if (data.profile2.identity.links[idx_143].metas[idx_152].bar === null) {
                    entity.profile2.identity.links[idx_143].metas[idx_152].bar = null;
                  } else if (typeof data.profile2.identity.links[idx_143].metas[idx_152].bar !== 'undefined') {
                    entity.profile2.identity.links[idx_143].metas[idx_152].bar = data.profile2.identity.links[idx_143].metas[idx_152].bar;
                  }
                  if (data.profile2.identity.links[idx_143].metas[idx_152].source === null) {
    entity.profile2.identity.links[idx_143].metas[idx_152].source = null;
                  } else if (typeof data.profile2.identity.links[idx_143].metas[idx_152].source !== 'undefined') {
                    if (isPrimaryKey(data.profile2.identity.links[idx_143].metas[idx_152].source, true)) {
                      entity.profile2.identity.links[idx_143].metas[idx_152].source = factory.createReference(source_156, data.profile2.identity.links[idx_143].metas[idx_152].source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
                    } else if (data.profile2.identity.links[idx_143].metas[idx_152].source && typeof data.profile2.identity.links[idx_143].metas[idx_152].source === 'object') {
                      entity.profile2.identity.links[idx_143].metas[idx_152].source = factory.create(source_157, data.profile2.identity.links[idx_143].metas[idx_152].source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
                    }
                  }
                } else if (data.profile2.identity.links[idx_143].metas[idx_152] === null) {
                  entity.profile2.identity.links[idx_143].metas[idx_152] = null;
                }
              });
            }
            if (data.profile2.identity.links[idx_143].source === null) {
    entity.profile2.identity.links[idx_143].source = null;
            } else if (typeof data.profile2.identity.links[idx_143].source !== 'undefined') {
              if (isPrimaryKey(data.profile2.identity.links[idx_143].source, true)) {
                entity.profile2.identity.links[idx_143].source = factory.createReference(source_158, data.profile2.identity.links[idx_143].source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
              } else if (data.profile2.identity.links[idx_143].source && typeof data.profile2.identity.links[idx_143].source === 'object') {
                entity.profile2.identity.links[idx_143].source = factory.create(source_159, data.profile2.identity.links[idx_143].source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
              }
            }
          } else if (data.profile2.identity.links[idx_143] === null) {
            entity.profile2.identity.links[idx_143] = null;
          }
        });
      }
      if (data.profile2.identity.source === null) {
    entity.profile2.identity.source = null;
      } else if (typeof data.profile2.identity.source !== 'undefined') {
        if (isPrimaryKey(data.profile2.identity.source, true)) {
          entity.profile2.identity.source = factory.createReference(source_160, data.profile2.identity.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
        } else if (data.profile2.identity.source && typeof data.profile2.identity.source === 'object') {
          entity.profile2.identity.source = factory.create(source_161, data.profile2.identity.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
        }
      }
    } else if (data.profile2.identity === null) {
      entity.profile2.identity = null;
    }
    if (data.profile2.source === null) {
    entity.profile2.source = null;
    } else if (typeof data.profile2.source !== 'undefined') {
      if (isPrimaryKey(data.profile2.source, true)) {
        entity.profile2.source = factory.createReference(source_162, data.profile2.source, { merge: true, convertCustomTypes, normalizeAccessors, schema });
      } else if (data.profile2.source && typeof data.profile2.source === 'object') {
        entity.profile2.source = factory.create(source_163, data.profile2.source, { initialized: true, merge: true, newEntity, convertCustomTypes, normalizeAccessors, schema });
      }
    }
  } else if (data.profile2 === null) {
    entity.profile2 = null;
  }
}"
`;

exports[`embedded entities in postgres > schema > nested embeddables 1 1`] = `
"create table "source" ("id" serial primary key, "name" varchar(255) not null);

create table "user" ("id" serial primary key, "name" varchar(255) not null, "profile1_username" varchar(255) not null, "profile1_identity_email" varchar(255) not null, "profile1_source_id" int null, "profile1_identity_meta_foo" varchar(255) null, "profile1_identity_links" jsonb not null, "profile1_identity_meta_bar" varchar(255) null, "profile1_identity_source_id" int null, "profile1_identity_meta_source_id" int null, "profile2" jsonb not null);

alter table "user" add constraint "user_profile1_source_id_foreign" foreign key ("profile1_source_id") references "source" ("id") on delete set null;
alter table "user" add constraint "user_profile1_identity_source_id_foreign" foreign key ("profile1_identity_source_id") references "source" ("id") on delete set null;
alter table "user" add constraint "user_profile1_identity_meta_source_id_foreign" foreign key ("profile1_identity_meta_source_id") references "source" ("id") on delete set null;
"
`;

exports[`embedded entities in postgres > schema > nested embeddables 2 1`] = `""`;

exports[`embedded entities in postgres > schema > nested embeddables 3 1`] = `
"drop table if exists "user" cascade;
drop table if exists "source" cascade;
"
`;
