// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`embedded entities in mongo > diffing 1`] = `
"function(entity) {
  const ret = {};
  if (typeof entity._id !== 'undefined') {
    ret._id = clone(entity._id);
  }

  if (typeof entity.name !== 'undefined') {
    ret.name = entity.name;
  }

  if (entity.profile1 != null) {
    if (typeof entity.profile1.username !== 'undefined') ret.profile1_username = clone(entity.profile1.username);

    if (entity.profile1.identity != null) {
      if (typeof entity.profile1.identity.email !== 'undefined') ret.profile1_identity_email = clone(entity.profile1.identity.email);

      if (entity.profile1.identity.meta != null) {
        if (typeof entity.profile1.identity.meta.foo !== 'undefined') ret.profile1_identity_meta_foo = clone(entity.profile1.identity.meta.foo);
        if (typeof entity.profile1.identity.meta.bar !== 'undefined') ret.profile1_identity_meta_bar = clone(entity.profile1.identity.meta.bar);
      }

    }

  }

  if (entity.profile2 === null) ret.profile2 = null;
  if (entity.profile2 != null) {
    ret.profile2 = {};
    if (typeof entity.profile2.username !== 'undefined') ret.profile2.username = clone(entity.profile2.username);

    if (entity.profile2.identity === null) ret.profile2.identity = null;
    if (entity.profile2.identity != null) {
      ret.profile2.identity = {};
      if (typeof entity.profile2.identity.email !== 'undefined') ret.profile2.identity.email = clone(entity.profile2.identity.email);

      if (entity.profile2.identity.meta === null) ret.profile2.identity.meta = null;
      if (entity.profile2.identity.meta != null) {
        ret.profile2.identity.meta = {};
        if (typeof entity.profile2.identity.meta.foo !== 'undefined') ret.profile2.identity.meta.foo = clone(entity.profile2.identity.meta.foo);
        if (typeof entity.profile2.identity.meta.bar !== 'undefined') ret.profile2.identity.meta.bar = clone(entity.profile2.identity.meta.bar);
      }

    }

    ret.profile2 = cloneEmbeddable(ret.profile2);
  }

  return ret;
}"
`;
