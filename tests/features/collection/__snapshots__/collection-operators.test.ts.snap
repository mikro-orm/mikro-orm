// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`collection operators [mariadb] > 1:m $size operator 1`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) = 0) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > 1:m $size operator 2`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) = 1) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > 1:m $size operator 3`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) = 2) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > 1:m $size operator 4`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) = 4) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > 1:m $size operator 5`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) >= 2) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > 1:m $size operator 6`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) > 0 and count(\`b1\`.\`id\`) <= 2) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > 1:m $size operator 7`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) != 2) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > 1:m sub-query operators $some, $none and $every 1`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > 1:m sub-query operators $some, $none and $every 2`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > 1:m sub-query operators $some, $none and $every 3`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where not (\`b1\`.\`title\` = 'Foo')) and \`a0\`.\`id\` in (1, 2, 5) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > 1:m sub-query operators $some, $none and $every 4`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\`) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > 1:m sub-query operators $some, $none and $every 5`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\`) and \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author2_id\`) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > allows only one of $some, $none and $every on the given level 1`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') and \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > allows only one of $some, $none and $every on the given level 2`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') and \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo 123') order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > m:n $size operator 1`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` group by \`b0\`.\`id\` having count(\`b1\`.\`id\`) = 2) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > m:n $size operator 2`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` group by \`b0\`.\`id\` having count(\`b1\`.\`id\`) >= 3) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > m:n sub-query operators $some, $none and $every (joined) 1`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where \`b1\`.\`name\` in ('t1', 't2')) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > m:n sub-query operators $some, $none and $every (joined) 2`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where \`b1\`.\`name\` in ('t1', 't2')) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > m:n sub-query operators $some, $none and $every (joined) 3`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where not (\`b1\`.\`name\` in ('t1', 't2'))) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > m:n sub-query operators $some, $none and $every (joined) 4`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\`) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > m:n sub-query operators $some, $none and $every (joined) 5`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\`) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > m:n sub-query operators $some, $none and $every (select-in) 1`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where \`b1\`.\`name\` in ('t1', 't2')) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > m:n sub-query operators $some, $none and $every (select-in) 2`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where \`b1\`.\`name\` in ('t1', 't2')) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > m:n sub-query operators $some, $none and $every (select-in) 3`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where not (\`b1\`.\`name\` in ('t1', 't2'))) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > m:n sub-query operators $some, $none and $every (select-in) 4`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\`) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > m:n sub-query operators $some, $none and $every (select-in) 5`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\`) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mariadb] > update query with $none 1`] = `"[query] update \`author\` set \`name\` = 'foobar' where \`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo')"`;

exports[`collection operators [mysql] > 1:m $size operator 1`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) = 0) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mysql] > 1:m $size operator 2`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) = 1) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mysql] > 1:m $size operator 3`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) = 2) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mysql] > 1:m $size operator 4`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) = 4) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mysql] > 1:m $size operator 5`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) >= 2) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mysql] > 1:m $size operator 6`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) > 0 and count(\`b1\`.\`id\`) <= 2) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mysql] > 1:m $size operator 7`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) != 2) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mysql] > 1:m sub-query operators $some, $none and $every 1`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mysql] > 1:m sub-query operators $some, $none and $every 2`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mysql] > 1:m sub-query operators $some, $none and $every 3`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where not (\`b1\`.\`title\` = 'Foo')) and \`a0\`.\`id\` in (1, 2, 5) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mysql] > 1:m sub-query operators $some, $none and $every 4`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\`) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mysql] > 1:m sub-query operators $some, $none and $every 5`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\`) and \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author2_id\`) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mysql] > allows only one of $some, $none and $every on the given level 1`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') and \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mysql] > allows only one of $some, $none and $every on the given level 2`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') and \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo 123') order by \`a0\`.\`id\` asc"`;

exports[`collection operators [mysql] > m:n $size operator 1`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` group by \`b0\`.\`id\` having count(\`b1\`.\`id\`) = 2) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mysql] > m:n $size operator 2`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` group by \`b0\`.\`id\` having count(\`b1\`.\`id\`) >= 3) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mysql] > m:n sub-query operators $some, $none and $every (joined) 1`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where \`b1\`.\`name\` in ('t1', 't2')) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mysql] > m:n sub-query operators $some, $none and $every (joined) 2`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where \`b1\`.\`name\` in ('t1', 't2')) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mysql] > m:n sub-query operators $some, $none and $every (joined) 3`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where not (\`b1\`.\`name\` in ('t1', 't2'))) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mysql] > m:n sub-query operators $some, $none and $every (joined) 4`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\`) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mysql] > m:n sub-query operators $some, $none and $every (joined) 5`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\`) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mysql] > m:n sub-query operators $some, $none and $every (select-in) 1`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where \`b1\`.\`name\` in ('t1', 't2')) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mysql] > m:n sub-query operators $some, $none and $every (select-in) 2`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where \`b1\`.\`name\` in ('t1', 't2')) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mysql] > m:n sub-query operators $some, $none and $every (select-in) 3`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where not (\`b1\`.\`name\` in ('t1', 't2'))) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mysql] > m:n sub-query operators $some, $none and $every (select-in) 4`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\`) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [mysql] > m:n sub-query operators $some, $none and $every (select-in) 5`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\`) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [postgresql] > 1:m $size operator 1`] = `"[query] select "a0".* from "author" as "a0" where "a0"."id" in (select "a0"."id" from "author" as "a0" left join "book" as "b1" on "a0"."id" = "b1"."author_id" group by "a0"."id" having count("b1"."id") = 0) order by "a0"."id" asc"`;

exports[`collection operators [postgresql] > 1:m $size operator 2`] = `"[query] select "a0".* from "author" as "a0" where "a0"."id" in (select "a0"."id" from "author" as "a0" left join "book" as "b1" on "a0"."id" = "b1"."author_id" group by "a0"."id" having count("b1"."id") = 1) order by "a0"."id" asc"`;

exports[`collection operators [postgresql] > 1:m $size operator 3`] = `"[query] select "a0".* from "author" as "a0" where "a0"."id" in (select "a0"."id" from "author" as "a0" left join "book" as "b1" on "a0"."id" = "b1"."author_id" group by "a0"."id" having count("b1"."id") = 2) order by "a0"."id" asc"`;

exports[`collection operators [postgresql] > 1:m $size operator 4`] = `"[query] select "a0".* from "author" as "a0" where "a0"."id" in (select "a0"."id" from "author" as "a0" left join "book" as "b1" on "a0"."id" = "b1"."author_id" group by "a0"."id" having count("b1"."id") = 4) order by "a0"."id" asc"`;

exports[`collection operators [postgresql] > 1:m $size operator 5`] = `"[query] select "a0".* from "author" as "a0" where "a0"."id" in (select "a0"."id" from "author" as "a0" left join "book" as "b1" on "a0"."id" = "b1"."author_id" group by "a0"."id" having count("b1"."id") >= 2) order by "a0"."id" asc"`;

exports[`collection operators [postgresql] > 1:m $size operator 6`] = `"[query] select "a0".* from "author" as "a0" where "a0"."id" in (select "a0"."id" from "author" as "a0" left join "book" as "b1" on "a0"."id" = "b1"."author_id" group by "a0"."id" having count("b1"."id") > 0 and count("b1"."id") <= 2) order by "a0"."id" asc"`;

exports[`collection operators [postgresql] > 1:m $size operator 7`] = `"[query] select "a0".* from "author" as "a0" where "a0"."id" in (select "a0"."id" from "author" as "a0" left join "book" as "b1" on "a0"."id" = "b1"."author_id" group by "a0"."id" having count("b1"."id") != 2) order by "a0"."id" asc"`;

exports[`collection operators [postgresql] > 1:m sub-query operators $some, $none and $every 1`] = `"[query] select "a0".* from "author" as "a0" where "a0"."id" in (select "a0"."id" from "author" as "a0" inner join "book" as "b1" on "a0"."id" = "b1"."author_id" where "b1"."title" = 'Foo') order by "a0"."id" asc"`;

exports[`collection operators [postgresql] > 1:m sub-query operators $some, $none and $every 2`] = `"[query] select "a0".* from "author" as "a0" where "a0"."id" not in (select "a0"."id" from "author" as "a0" inner join "book" as "b1" on "a0"."id" = "b1"."author_id" where "b1"."title" = 'Foo') order by "a0"."id" asc"`;

exports[`collection operators [postgresql] > 1:m sub-query operators $some, $none and $every 3`] = `"[query] select "a0".* from "author" as "a0" where "a0"."id" not in (select "a0"."id" from "author" as "a0" inner join "book" as "b1" on "a0"."id" = "b1"."author_id" where not ("b1"."title" = 'Foo')) and "a0"."id" in (1, 2, 5) order by "a0"."id" asc"`;

exports[`collection operators [postgresql] > 1:m sub-query operators $some, $none and $every 4`] = `"[query] select "a0".* from "author" as "a0" where "a0"."id" in (select "a0"."id" from "author" as "a0" inner join "book" as "b1" on "a0"."id" = "b1"."author_id") order by "a0"."id" asc"`;

exports[`collection operators [postgresql] > 1:m sub-query operators $some, $none and $every 5`] = `"[query] select "a0".* from "author" as "a0" where "a0"."id" not in (select "a0"."id" from "author" as "a0" inner join "book" as "b1" on "a0"."id" = "b1"."author_id") and "a0"."id" not in (select "a0"."id" from "author" as "a0" inner join "book" as "b1" on "a0"."id" = "b1"."author2_id") order by "a0"."id" asc"`;

exports[`collection operators [postgresql] > allows only one of $some, $none and $every on the given level 1`] = `"[query] select "a0".* from "author" as "a0" where "a0"."id" in (select "a0"."id" from "author" as "a0" inner join "book" as "b1" on "a0"."id" = "b1"."author_id" where "b1"."title" = 'Foo') and "a0"."id" not in (select "a0"."id" from "author" as "a0" inner join "book" as "b1" on "a0"."id" = "b1"."author_id" where "b1"."title" = 'Foo') order by "a0"."id" asc"`;

exports[`collection operators [postgresql] > allows only one of $some, $none and $every on the given level 2`] = `"[query] select "a0".* from "author" as "a0" where "a0"."id" in (select "a0"."id" from "author" as "a0" inner join "book" as "b1" on "a0"."id" = "b1"."author_id" where "b1"."title" = 'Foo') and "a0"."id" not in (select "a0"."id" from "author" as "a0" inner join "book" as "b1" on "a0"."id" = "b1"."author_id" where "b1"."title" = 'Foo 123') order by "a0"."id" asc"`;

exports[`collection operators [postgresql] > m:n $size operator 1`] = `"[query] select "b0".* from "book" as "b0" where "b0"."id" in (select "b0"."id" from "book" as "b0" left join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" left join "book_tag" as "b1" on "b2"."book_tag_id" = "b1"."id" group by "b0"."id" having count("b1"."id") = 2) order by "b0"."id" asc"`;

exports[`collection operators [postgresql] > m:n $size operator 2`] = `"[query] select "b0".* from "book" as "b0" where "b0"."id" in (select "b0"."id" from "book" as "b0" left join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" left join "book_tag" as "b1" on "b2"."book_tag_id" = "b1"."id" group by "b0"."id" having count("b1"."id") >= 3) order by "b0"."id" asc"`;

exports[`collection operators [postgresql] > m:n sub-query operators $some, $none and $every (joined) 1`] = `"[query] select "b0".*, "t1"."id" as "t1__id", "t1"."name" as "t1__name" from "book" as "b0" left join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" left join "book_tag" as "t1" on "b2"."book_tag_id" = "t1"."id" where "b0"."id" in (select "b0"."id" from "book" as "b0" inner join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" inner join "book_tag" as "b1" on "b2"."book_tag_id" = "b1"."id" where "b1"."name" in ('t1', 't2')) order by "b0"."id" asc"`;

exports[`collection operators [postgresql] > m:n sub-query operators $some, $none and $every (joined) 2`] = `"[query] select "b0".*, "t1"."id" as "t1__id", "t1"."name" as "t1__name" from "book" as "b0" left join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" left join "book_tag" as "t1" on "b2"."book_tag_id" = "t1"."id" where "b0"."id" not in (select "b0"."id" from "book" as "b0" inner join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" inner join "book_tag" as "b1" on "b2"."book_tag_id" = "b1"."id" where "b1"."name" in ('t1', 't2')) order by "b0"."id" asc"`;

exports[`collection operators [postgresql] > m:n sub-query operators $some, $none and $every (joined) 3`] = `"[query] select "b0".*, "t1"."id" as "t1__id", "t1"."name" as "t1__name" from "book" as "b0" left join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" left join "book_tag" as "t1" on "b2"."book_tag_id" = "t1"."id" where "b0"."id" not in (select "b0"."id" from "book" as "b0" inner join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" inner join "book_tag" as "b1" on "b2"."book_tag_id" = "b1"."id" where not ("b1"."name" in ('t1', 't2'))) order by "b0"."id" asc"`;

exports[`collection operators [postgresql] > m:n sub-query operators $some, $none and $every (joined) 4`] = `"[query] select "b0".*, "t1"."id" as "t1__id", "t1"."name" as "t1__name" from "book" as "b0" left join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" left join "book_tag" as "t1" on "b2"."book_tag_id" = "t1"."id" where "b0"."id" in (select "b0"."id" from "book" as "b0" inner join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" inner join "book_tag" as "b1" on "b2"."book_tag_id" = "b1"."id") order by "b0"."id" asc"`;

exports[`collection operators [postgresql] > m:n sub-query operators $some, $none and $every (joined) 5`] = `"[query] select "b0".*, "t1"."id" as "t1__id", "t1"."name" as "t1__name" from "book" as "b0" left join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" left join "book_tag" as "t1" on "b2"."book_tag_id" = "t1"."id" where "b0"."id" not in (select "b0"."id" from "book" as "b0" inner join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" inner join "book_tag" as "b1" on "b2"."book_tag_id" = "b1"."id") order by "b0"."id" asc"`;

exports[`collection operators [postgresql] > m:n sub-query operators $some, $none and $every (select-in) 1`] = `"[query] select "b0".* from "book" as "b0" where "b0"."id" in (select "b0"."id" from "book" as "b0" inner join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" inner join "book_tag" as "b1" on "b2"."book_tag_id" = "b1"."id" where "b1"."name" in ('t1', 't2')) order by "b0"."id" asc"`;

exports[`collection operators [postgresql] > m:n sub-query operators $some, $none and $every (select-in) 2`] = `"[query] select "b0".* from "book" as "b0" where "b0"."id" not in (select "b0"."id" from "book" as "b0" inner join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" inner join "book_tag" as "b1" on "b2"."book_tag_id" = "b1"."id" where "b1"."name" in ('t1', 't2')) order by "b0"."id" asc"`;

exports[`collection operators [postgresql] > m:n sub-query operators $some, $none and $every (select-in) 3`] = `"[query] select "b0".* from "book" as "b0" where "b0"."id" not in (select "b0"."id" from "book" as "b0" inner join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" inner join "book_tag" as "b1" on "b2"."book_tag_id" = "b1"."id" where not ("b1"."name" in ('t1', 't2'))) order by "b0"."id" asc"`;

exports[`collection operators [postgresql] > m:n sub-query operators $some, $none and $every (select-in) 4`] = `"[query] select "b0".* from "book" as "b0" where "b0"."id" in (select "b0"."id" from "book" as "b0" inner join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" inner join "book_tag" as "b1" on "b2"."book_tag_id" = "b1"."id") order by "b0"."id" asc"`;

exports[`collection operators [postgresql] > m:n sub-query operators $some, $none and $every (select-in) 5`] = `"[query] select "b0".* from "book" as "b0" where "b0"."id" not in (select "b0"."id" from "book" as "b0" inner join "book_tags" as "b2" on "b0"."id" = "b2"."book_id" inner join "book_tag" as "b1" on "b2"."book_tag_id" = "b1"."id") order by "b0"."id" asc"`;

exports[`collection operators [postgresql] > update query with $none 1`] = `"[query] update "author" set "name" = 'foobar' where "id" not in (select "a0"."id" from "author" as "a0" inner join "book" as "b1" on "a0"."id" = "b1"."author_id" where "b1"."title" = 'Foo')"`;

exports[`collection operators [sqlite] > 1:m $size operator 1`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) = 0) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > 1:m $size operator 2`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) = 1) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > 1:m $size operator 3`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) = 2) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > 1:m $size operator 4`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) = 4) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > 1:m $size operator 5`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) >= 2) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > 1:m $size operator 6`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) > 0 and count(\`b1\`.\`id\`) <= 2) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > 1:m $size operator 7`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` left join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` group by \`a0\`.\`id\` having count(\`b1\`.\`id\`) != 2) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > 1:m sub-query operators $some, $none and $every 1`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') order by \`a0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > 1:m sub-query operators $some, $none and $every 2`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') order by \`a0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > 1:m sub-query operators $some, $none and $every 3`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where not (\`b1\`.\`title\` = 'Foo')) and \`a0\`.\`id\` in (1, 2, 5) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > 1:m sub-query operators $some, $none and $every 4`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\`) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > 1:m sub-query operators $some, $none and $every 5`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\`) and \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author2_id\`) order by \`a0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > allows only one of $some, $none and $every on the given level 1`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') and \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') order by \`a0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > allows only one of $some, $none and $every on the given level 2`] = `"[query] select \`a0\`.* from \`author\` as \`a0\` where \`a0\`.\`id\` in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo') and \`a0\`.\`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo 123') order by \`a0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > m:n $size operator 1`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` group by \`b0\`.\`id\` having count(\`b1\`.\`id\`) = 2) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > m:n $size operator 2`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` group by \`b0\`.\`id\` having count(\`b1\`.\`id\`) >= 3) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > m:n sub-query operators $some, $none and $every (joined) 1`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where \`b1\`.\`name\` in ('t1', 't2')) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > m:n sub-query operators $some, $none and $every (joined) 2`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where \`b1\`.\`name\` in ('t1', 't2')) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > m:n sub-query operators $some, $none and $every (joined) 3`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where not (\`b1\`.\`name\` in ('t1', 't2'))) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > m:n sub-query operators $some, $none and $every (joined) 4`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\`) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > m:n sub-query operators $some, $none and $every (joined) 5`] = `"[query] select \`b0\`.*, \`t1\`.\`id\` as \`t1__id\`, \`t1\`.\`name\` as \`t1__name\` from \`book\` as \`b0\` left join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` left join \`book_tag\` as \`t1\` on \`b2\`.\`book_tag_id\` = \`t1\`.\`id\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\`) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > m:n sub-query operators $some, $none and $every (select-in) 1`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where \`b1\`.\`name\` in ('t1', 't2')) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > m:n sub-query operators $some, $none and $every (select-in) 2`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where \`b1\`.\`name\` in ('t1', 't2')) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > m:n sub-query operators $some, $none and $every (select-in) 3`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\` where not (\`b1\`.\`name\` in ('t1', 't2'))) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > m:n sub-query operators $some, $none and $every (select-in) 4`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\`) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > m:n sub-query operators $some, $none and $every (select-in) 5`] = `"[query] select \`b0\`.* from \`book\` as \`b0\` where \`b0\`.\`id\` not in (select \`b0\`.\`id\` from \`book\` as \`b0\` inner join \`book_tags\` as \`b2\` on \`b0\`.\`id\` = \`b2\`.\`book_id\` inner join \`book_tag\` as \`b1\` on \`b2\`.\`book_tag_id\` = \`b1\`.\`id\`) order by \`b0\`.\`id\` asc"`;

exports[`collection operators [sqlite] > update query with $none 1`] = `"[query] update \`author\` set \`name\` = 'foobar' where \`id\` not in (select \`a0\`.\`id\` from \`author\` as \`a0\` inner join \`book\` as \`b1\` on \`a0\`.\`id\` = \`b1\`.\`author_id\` where \`b1\`.\`title\` = 'Foo')"`;
